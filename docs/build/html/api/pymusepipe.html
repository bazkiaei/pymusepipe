

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pymusepipe package &mdash; pymusepipe 2.16.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="pymusepipe" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> pymusepipe
          

          
          </a>

          
            
            
              <div class="version">
                2.16.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../alignment.html">Alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mosaicking.html">Mosaicking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../convolution.html">Convolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../phangs_example.html">PHANGS pipeline example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Module Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">pymusepipe package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.align_pipe">pymusepipe.align_pipe module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.align_pipe.AlignMuseDataset"><code class="docutils literal notranslate"><span class="pre">AlignMuseDataset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.align_pipe.arcsec_to_pixel"><code class="docutils literal notranslate"><span class="pre">arcsec_to_pixel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.align_pipe.create_offset_table"><code class="docutils literal notranslate"><span class="pre">create_offset_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.align_pipe.get_conversion_factor"><code class="docutils literal notranslate"><span class="pre">get_conversion_factor()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.align_pipe.init_plot_optical_flow"><code class="docutils literal notranslate"><span class="pre">init_plot_optical_flow()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.align_pipe.is_sequence"><code class="docutils literal notranslate"><span class="pre">is_sequence()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.align_pipe.pixel_to_arcsec"><code class="docutils literal notranslate"><span class="pre">pixel_to_arcsec()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.align_pipe.rotate_pixtable"><code class="docutils literal notranslate"><span class="pre">rotate_pixtable()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.align_pipe.rotate_pixtables"><code class="docutils literal notranslate"><span class="pre">rotate_pixtables()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.check_pipe">pymusepipe.check_pipe module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.check_pipe.CheckPipe"><code class="docutils literal notranslate"><span class="pre">CheckPipe</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.check_pipe.print_plot"><code class="docutils literal notranslate"><span class="pre">print_plot()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.combine">pymusepipe.combine module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.combine.MusePointings"><code class="docutils literal notranslate"><span class="pre">MusePointings</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.combine.build_dict_exposures"><code class="docutils literal notranslate"><span class="pre">build_dict_exposures()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.combine.get_list_datasets"><code class="docutils literal notranslate"><span class="pre">get_list_datasets()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.combine.get_list_exposures"><code class="docutils literal notranslate"><span class="pre">get_list_exposures()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.combine.get_list_periods"><code class="docutils literal notranslate"><span class="pre">get_list_periods()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.combine.get_list_reduced_pixtables"><code class="docutils literal notranslate"><span class="pre">get_list_reduced_pixtables()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.combine.get_list_targets"><code class="docutils literal notranslate"><span class="pre">get_list_targets()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.config_pipe">pymusepipe.config_pipe module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.config_pipe.get_suffix_product"><code class="docutils literal notranslate"><span class="pre">get_suffix_product()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.create_sof">pymusepipe.create_sof module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.create_sof.SofDict"><code class="docutils literal notranslate"><span class="pre">SofDict</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.create_sof.SofPipe"><code class="docutils literal notranslate"><span class="pre">SofPipe</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.cube_convolve">pymusepipe.cube_convolve module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.cube_convolve.convolution_kernel"><code class="docutils literal notranslate"><span class="pre">convolution_kernel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.cube_convolve.convolution_kernel_gaussian"><code class="docutils literal notranslate"><span class="pre">convolution_kernel_gaussian()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.cube_convolve.cube_convolve"><code class="docutils literal notranslate"><span class="pre">cube_convolve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.cube_convolve.cube_kernel"><code class="docutils literal notranslate"><span class="pre">cube_kernel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.cube_convolve.gaussian_kernel"><code class="docutils literal notranslate"><span class="pre">gaussian_kernel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.cube_convolve.moffat_kernel"><code class="docutils literal notranslate"><span class="pre">moffat_kernel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.cube_convolve.psf2d"><code class="docutils literal notranslate"><span class="pre">psf2d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.cube_convolve.psf3d"><code class="docutils literal notranslate"><span class="pre">psf3d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.cube_convolve.pypher_script"><code class="docutils literal notranslate"><span class="pre">pypher_script()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.emission_lines">pymusepipe.emission_lines module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.emission_lines.print_emission_lines"><code class="docutils literal notranslate"><span class="pre">print_emission_lines()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.graph_pipe">pymusepipe.graph_pipe module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.graph_pipe.GraphMuse"><code class="docutils literal notranslate"><span class="pre">GraphMuse</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.graph_pipe.open_new_wcs_figure"><code class="docutils literal notranslate"><span class="pre">open_new_wcs_figure()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.graph_pipe.plot_compare_contours"><code class="docutils literal notranslate"><span class="pre">plot_compare_contours()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.graph_pipe.plot_compare_cuts"><code class="docutils literal notranslate"><span class="pre">plot_compare_cuts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.graph_pipe.plot_compare_diff"><code class="docutils literal notranslate"><span class="pre">plot_compare_diff()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.graph_pipe.plot_polypar"><code class="docutils literal notranslate"><span class="pre">plot_polypar()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.graph_pipe.print_fig"><code class="docutils literal notranslate"><span class="pre">print_fig()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.init_musepipe">pymusepipe.init_musepipe module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.init_musepipe.InitMuseParameters"><code class="docutils literal notranslate"><span class="pre">InitMuseParameters</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.init_musepipe.add_suffix_tokeys"><code class="docutils literal notranslate"><span class="pre">add_suffix_tokeys()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.mpdaf_pipe">pymusepipe.mpdaf_pipe module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.BasicFile"><code class="docutils literal notranslate"><span class="pre">BasicFile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.BasicPSF"><code class="docutils literal notranslate"><span class="pre">BasicPSF</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.MuseCube"><code class="docutils literal notranslate"><span class="pre">MuseCube</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic"><code class="docutils literal notranslate"><span class="pre">MuseCubeMosaic</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.MuseFilter"><code class="docutils literal notranslate"><span class="pre">MuseFilter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.MuseImage"><code class="docutils literal notranslate"><span class="pre">MuseImage</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.MuseSetImages"><code class="docutils literal notranslate"><span class="pre">MuseSetImages</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.MuseSetSpectra"><code class="docutils literal notranslate"><span class="pre">MuseSetSpectra</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.MuseSkyContinuum"><code class="docutils literal notranslate"><span class="pre">MuseSkyContinuum</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.MuseSpectrum"><code class="docutils literal notranslate"><span class="pre">MuseSpectrum</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.PixTableToMask"><code class="docutils literal notranslate"><span class="pre">PixTableToMask</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.get_sky_spectrum"><code class="docutils literal notranslate"><span class="pre">get_sky_spectrum()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.mpdaf_pipe.integrate_spectrum"><code class="docutils literal notranslate"><span class="pre">integrate_spectrum()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.musepipe">pymusepipe.musepipe module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.musepipe.MusePipe"><code class="docutils literal notranslate"><span class="pre">MusePipe</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.musepipe.PipeObject"><code class="docutils literal notranslate"><span class="pre">PipeObject</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.prep_recipes_pipe">pymusepipe.prep_recipes_pipe module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.prep_recipes_pipe.PipePrep"><code class="docutils literal notranslate"><span class="pre">PipePrep</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.prep_recipes_pipe.add_listpath"><code class="docutils literal notranslate"><span class="pre">add_listpath()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.prep_recipes_pipe.norm_listpath"><code class="docutils literal notranslate"><span class="pre">norm_listpath()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.prep_recipes_pipe.print_my_function_name"><code class="docutils literal notranslate"><span class="pre">print_my_function_name()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.recipes_pipe">pymusepipe.recipes_pipe module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.recipes_pipe.PipeRecipes"><code class="docutils literal notranslate"><span class="pre">PipeRecipes</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.target_sample">pymusepipe.target_sample module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.target_sample.MusePipeSample"><code class="docutils literal notranslate"><span class="pre">MusePipeSample</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.target_sample.MusePipeTarget"><code class="docutils literal notranslate"><span class="pre">MusePipeTarget</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.target_sample.PipeDict"><code class="docutils literal notranslate"><span class="pre">PipeDict</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.target_sample.insert_suffix"><code class="docutils literal notranslate"><span class="pre">insert_suffix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.target_sample.update_calib_file"><code class="docutils literal notranslate"><span class="pre">update_calib_file()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.util_pipe">pymusepipe.util_pipe module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.Circle_Zone"><code class="docutils literal notranslate"><span class="pre">Circle_Zone</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.ExposureInfo"><code class="docutils literal notranslate"><span class="pre">ExposureInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.Rectangle_Zone"><code class="docutils literal notranslate"><span class="pre">Rectangle_Zone</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.Selection_Zone"><code class="docutils literal notranslate"><span class="pre">Selection_Zone</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.TimeStampDict"><code class="docutils literal notranslate"><span class="pre">TimeStampDict</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.Trail_Zone"><code class="docutils literal notranslate"><span class="pre">Trail_Zone</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.abspath"><code class="docutils literal notranslate"><span class="pre">abspath()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.add_key_dataset_expo"><code class="docutils literal notranslate"><span class="pre">add_key_dataset_expo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.add_string"><code class="docutils literal notranslate"><span class="pre">add_string()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.analyse_musemode"><code class="docutils literal notranslate"><span class="pre">analyse_musemode()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.append_file"><code class="docutils literal notranslate"><span class="pre">append_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.chunk_stats"><code class="docutils literal notranslate"><span class="pre">chunk_stats()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.create_time_name"><code class="docutils literal notranslate"><span class="pre">create_time_name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.crop_data"><code class="docutils literal notranslate"><span class="pre">crop_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.doppler_shift"><code class="docutils literal notranslate"><span class="pre">doppler_shift()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.filter_list_with_pdict"><code class="docutils literal notranslate"><span class="pre">filter_list_with_pdict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.filter_list_with_suffix_list"><code class="docutils literal notranslate"><span class="pre">filter_list_with_suffix_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.filtermed_image"><code class="docutils literal notranslate"><span class="pre">filtermed_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.flatclean_image"><code class="docutils literal notranslate"><span class="pre">flatclean_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.formatted_time"><code class="docutils literal notranslate"><span class="pre">formatted_time()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.get_dataset_name"><code class="docutils literal notranslate"><span class="pre">get_dataset_name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.get_emissionline_band"><code class="docutils literal notranslate"><span class="pre">get_emissionline_band()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.get_emissionline_wavelength"><code class="docutils literal notranslate"><span class="pre">get_emissionline_wavelength()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.get_flux_range"><code class="docutils literal notranslate"><span class="pre">get_flux_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.get_normfactor"><code class="docutils literal notranslate"><span class="pre">get_normfactor()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.get_polynorm"><code class="docutils literal notranslate"><span class="pre">get_polynorm()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.get_tpl_nexpo"><code class="docutils literal notranslate"><span class="pre">get_tpl_nexpo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.lower_allbutfirst_letter"><code class="docutils literal notranslate"><span class="pre">lower_allbutfirst_letter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.lower_rep"><code class="docutils literal notranslate"><span class="pre">lower_rep()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.merge_dict"><code class="docutils literal notranslate"><span class="pre">merge_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.my_linear_model"><code class="docutils literal notranslate"><span class="pre">my_linear_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.normpath"><code class="docutils literal notranslate"><span class="pre">normpath()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.prepare_image"><code class="docutils literal notranslate"><span class="pre">prepare_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.print_debug"><code class="docutils literal notranslate"><span class="pre">print_debug()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.print_endline"><code class="docutils literal notranslate"><span class="pre">print_endline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.print_error"><code class="docutils literal notranslate"><span class="pre">print_error()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.print_info"><code class="docutils literal notranslate"><span class="pre">print_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.print_warning"><code class="docutils literal notranslate"><span class="pre">print_warning()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.reconstruct_filter_images"><code class="docutils literal notranslate"><span class="pre">reconstruct_filter_images()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.regress_odr"><code class="docutils literal notranslate"><span class="pre">regress_odr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.rotate_cube_wcs"><code class="docutils literal notranslate"><span class="pre">rotate_cube_wcs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.rotate_image_wcs"><code class="docutils literal notranslate"><span class="pre">rotate_image_wcs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.safely_create_folder"><code class="docutils literal notranslate"><span class="pre">safely_create_folder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pymusepipe.util_pipe.select_spaxels"><code class="docutils literal notranslate"><span class="pre">select_spaxels()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe.version">pymusepipe.version module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pymusepipe">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pymusepipe</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">pymusepipe</a> &raquo;</li>
        
      <li>pymusepipe package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/pymusepipe.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="pymusepipe-package">
<h1>pymusepipe package<a class="headerlink" href="#pymusepipe-package" title="Permalink to this heading">¶</a>
</h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a>
</h2>
</section>
<section id="module-pymusepipe.align_pipe">
<span id="pymusepipe-align-pipe-module"></span><h2>pymusepipe.align_pipe module<a class="headerlink" href="#module-pymusepipe.align_pipe" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS alignement module. This module can be used to align MUSE
reconstructed images either with each others or using a reference background
image. It spits the results out in a Fits table which can then be used
to process and mosaic Muse PIXTABLES via the MUSE ESO pipeline.
It includes a normalisation factor, an estimate of the background,
as well as any potential rotation. Fine tuning
can be done by hand by the user, using a set of reference plots.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.align_pipe.</span></span><span class="sig-name descname"><span class="pre">AlignMuseDataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_reference</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_muse_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_muse_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sel_indices_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subim_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dynamic_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdu_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firstguess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crosscorr'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to align MUSE images onto a reference image.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.apply_extra_offset_ima">
<span class="sig-name descname"><span class="pre">apply_extra_offset_ima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_pixel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_arcsec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.apply_extra_offset_ima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.apply_extra_offset_ima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Shift image with index nima with the total offset
after adding any extra given offset
This does not return anything but could in principle
if using the output of the self.shift</p>
<section id="input">
<h3>Input<a class="headerlink" href="#input" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>nima: int</dt>
<dd>
<p>Index of image to consider</p>
</dd>
<dt>extra_pixel: list of 2 floats</dt>
<dd>
<p>Extra offsets (x,y) in pixels. If None, nothing is applied</p>
</dd>
<dt>extra_arcsec: list of 2 floats</dt>
<dd>
<p>Extra offsets (x,y) in arcsec if extra_pixel is not provided
If None, nothing is applied</p>
</dd>
<dt>extra_rotation: float</dt>
<dd>
<p>Rotation in degrees. If None, no new extra offset is applied</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.apply_optical_flow_offset_ima">
<span class="sig-name descname"><span class="pre">apply_optical_flow_offset_ima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.apply_optical_flow_offset_ima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.apply_optical_flow_offset_ima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Transfer the value of the optical flow into the extra pixel</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.apply_optical_flow_offset_listima">
<span class="sig-name descname"><span class="pre">apply_optical_flow_offset_listima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.apply_optical_flow_offset_listima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.apply_optical_flow_offset_listima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Apply the optical flow offset as extra pixels offsets and rotation</p>
<section id="id1">
<h3>Input<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>list_nima: list</dt>
<dd>
<p>If None, will be initiliased to the default list of indices</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.compare">
<span class="sig-name descname"><span class="pre">compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_nfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nlevels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convolve_data1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convolve_data2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showcontours</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showcuts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shownormalise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showdiff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncuts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix_fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.compare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.compare" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Compare the projected reference and MUSE image
by plotting the contours, the difference and vertical/horizontal cuts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>data1</strong> – </p></li>
<li><p><strong>data2</strong> (<em>2d np.arrays</em>) – Array to compare</p></li>
<li><p><strong>header</strong> (<em>Header</em>) – If provided, will be use to get the WCS in the plots. Default is None (ignored).</p></li>
<li><p><strong>polypar</strong> (<em>ODR result</em>) – If None, it will be recalculated</p></li>
<li><p><strong>showcontours</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em> [</em><em>True</em><em>]</em>) – </p></li>
<li><p><strong>showcuts</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em> [</em><em>True</em><em>]</em>) – </p></li>
<li><p><strong>shownormalise</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em> [</em><em>True</em><em>]</em>) – </p></li>
<li><p><strong>showdiff</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em> [</em><em>True</em><em>]</em>) – All options corresponding to 1 specific plot. By default
show them all (all True)</p></li>
<li><p><strong>ncuts</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> [</em><em>5</em><em>]</em>) – Number of vertical / horizontal cuts along the ratio
between the 2 maps to be shown (“cuts”)</p></li>
<li><p><strong>percentage</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> [</em><em>5</em><em>]</em>) – Used to compute which percentile to show</p></li>
<li><p><strong>start_nfig</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> [</em><em>1</em><em>]</em>) – Number of the matplotlib Figure to start with</p></li>
<li><p><strong>nlevels</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> [</em><em>10</em><em>]</em>) – Number of levels for the contour plots</p></li>
<li><p><strong>levels</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> [</em><em>None</em><em>]</em>) – Specific list of levels if any (default is None)</p></li>
<li><p><strong>convolve_data1</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> [</em><em>0</em><em>]</em>) – If not 0, will convolve with a gaussian of that sigma</p></li>
<li><p><strong>convolve_data2</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> [</em><em>0</em><em>]</em>) – If not 0, will convolve the reference image
with a gaussian of that sigma</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong> (<em>savefig</em>) – If True, will save the figure into a png</p></li>
<li><p><strong>suffix_fig</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Suffix name to add to the figure filenames</p></li>
<li><p><strong>figures</strong> (<em>Makes a maximum</em><em> of </em><em>4</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.compare_ima">
<span class="sig-name descname"><span class="pre">compare_ima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nima_museref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convolve_muse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convolve_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.compare_ima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.compare_ima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<section id="id2">
<h3>Input<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>nima: int</dt>
<dd>
<p>Index of input image</p>
</dd>
<dt>nima_museref: int</dt>
<dd>
<p>Index of second input image for the reference. Default is None, hence ignored
and the default reference image will be used.</p>
</dd>
</dl>
</section>
<section id="create">
<h3>Create<a class="headerlink" href="#create" title="Permalink to this heading">¶</a>
</h3>
<p>Plots which compare the two input datasets as defined by the indices</p>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.find_cross_peak">
<span class="sig-name descname"><span class="pre">find_cross_peak</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">muse_hdu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minflux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.find_cross_peak"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.find_cross_peak" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Aligns the MUSE HDU to a reference HDU</p>
<section id="id3">
<h3>Input<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>muse_hdu: astropy.io.fits hdu</dt>
<dd>
<p>MUSE hdu file</p>
</dd>
<dt>name_musehdr: str</dt>
<dd>
<p>name of the muse hdr to save</p>
</dd>
<dt>rotation: float</dt>
<dd>
<p>Angle in degrees (0).</p>
</dd>
<dt>minflux: minimum flux to be used in the cross-correlation</dt>
<dd>
<p>Flux below that value will be set to 0.
Default is 0.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><em>xpix_cross</em></p></li>
<li><p><strong>ypix_cross</strong> (<em>x and y pixel coordinates of the cross-correlation peak</em>)</p></li>
</ul>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.find_cross_peak_ima">
<span class="sig-name descname"><span class="pre">find_cross_peak_ima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minflux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.find_cross_peak_ima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.find_cross_peak_ima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Find the cross correlation peak and get the x and y shifts
for a given image, given its index nima</p>
<section id="id4">
<h3>Input<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>nima: int</dt>
<dd>
<p>Index of the image</p>
</dd>
<dt>minflux: float</dt>
<dd>
<p>Minimum flux for the cross-correlation</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.find_cross_peak_listima">
<span class="sig-name descname"><span class="pre">find_cross_peak_listima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minflux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.find_cross_peak_listima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.find_cross_peak_listima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run the cross correlation peaks on all MUSE images
Derive the self.cross_off_pixel/arcsec parameters</p>
<section id="id5">
<h3>Input<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>list_nima: list</dt>
<dd>
<p>list of indices for images to process Should be a list. Default is None
and all images are processed</p>
</dd>
<dt>minflux: float [None]</dt>
<dd>
<p>minimum flux to be used in the cross-correlation
Flux below that value will be set to 0.</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.get_imaref_muse">
<span class="sig-name descname"><span class="pre">get_imaref_muse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">muse_hdu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minflux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.get_imaref_muse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.get_imaref_muse" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Returns the ref image and muse images on the same grid assuming a given
rotation</p>
<section id="id6">
<h3>Input<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>muse_hdu: HDU</dt>
<dd>
<p>MUSE hdu file</p>
</dd>
<dt>name_musehdr: str</dt>
<dd>
<p>name of the muse hdr to save</p>
</dd>
<dt>rotation: float</dt>
<dd>
<p>Angle in degrees (0).</p>
</dd>
<dt>minflux: float</dt>
<dd>
<p>Minimum flux to prepare the image (0).</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>ima_ref, ima_muse</strong> (<em>arrays</em>) – Reprojected images</p></li>
<li><p><em>Note that the original images are saved in self._temp_input_origmuse and</em></p></li>
<li><p><em>self._temp_input_origref when debug mode is on (self._debug)</em></p></li>
</ul>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.get_normfactor_ima">
<span class="sig-name descname"><span class="pre">get_normfactor_ima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convolve_muse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convolve_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.get_normfactor_ima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.get_normfactor_ima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get the normalisation factor for shifted and projected images. This function only
consider the input image given by index nima and the reference image (after
projection).</p>
<section id="id7">
<h3>Input<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>nima: int</dt>
<dd>
<p>Index of image to consider</p>
</dd>
<dt>median_filter: bool</dt>
<dd>
<p>If True, will median filter</p>
</dd>
<dt>convolve_muse: float [0]</dt>
<dd>
<p>Will convolve the image with index nima
with a gaussian with that sigma. 0 means no convolution</p>
</dd>
<dt>convolve_reference: float [0]</dt>
<dd>
<p>Will convolve the reference image
with a gaussian with that sigma. 0 means no convolution</p>
</dd>
<dt>border: int</dt>
<dd>
<p>Number of pixels to crop</p>
</dd>
<dt>threshold_muse: float [None]</dt>
<dd>
<p>Threshold for the input image flux to consider</p>
</dd>
<dt>chunk_size: int</dt>
<dd>
<p>Size of chunks to consider for chunk statistics (polynomial normalisation)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>data</strong> (<em>2d array</em>)</p></li>
<li><p><strong>refdata</strong> (<em>2d array</em>) – The 2 arrays (input, reference) after processing</p></li>
</ul>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.get_shift_from_pcc">
<span class="sig-name descname"><span class="pre">get_shift_from_pcc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">muse_hdu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minflux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.get_shift_from_pcc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.get_shift_from_pcc" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Find a guess translation using PCC</p>
<section id="id8">
<h3>Input<a class="headerlink" href="#id8" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>muse_hdu: HDU</dt>
<dd>
<p>MUSE hdu file</p>
</dd>
<dt>rotation: float</dt>
<dd>
<p>Angle in degrees (0).</p>
</dd>
<dt>minflux: float</dt>
<dd>
<p>Minimum flux to prepare the image (0).</p>
</dd>
<dt>name_musehdr: str</dt>
<dd>
<p>Name of the muse hdr to save. Optional. Only operational if self.save_hdr is True</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><em>xpix_pcc</em></p></li>
<li><p><em>ypix_pcc x and y pixel coordinates of the cross-correlation peak</em></p></li>
</ul>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.get_shift_from_pcc_ima">
<span class="sig-name descname"><span class="pre">get_shift_from_pcc_ima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minflux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.get_shift_from_pcc_ima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.get_shift_from_pcc_ima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run the PCC shift guess for image nima</p>
<section id="id9">
<h3>Input<a class="headerlink" href="#id9" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>nima: int</dt>
<dd>
<p>Index of image</p>
</dd>
<dt>minflux: float [None]</dt>
<dd>
<p>minimum flux to be used in the cross-correlation
Flux below that value will be set to 0.</p>
</dd>
<dt>rotation: float</dt>
<dd>
<p>If None, will take the init_rotangle. Otherwise it will take the input value</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.get_shift_from_pcc_listima">
<span class="sig-name descname"><span class="pre">get_shift_from_pcc_listima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minflux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.get_shift_from_pcc_listima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.get_shift_from_pcc_listima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run the PCC shift guess on a list of images given by a list
of indices</p>
<section id="id10">
<h3>Input<a class="headerlink" href="#id10" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>list_nima: list of indices for images to process</dt>
<dd>
<p>Should be a list. Default is None
and all images are processed</p>
</dd>
<dt>minflux: float [None]</dt>
<dd>
<p>minimum flux to be used in the cross-correlation
Flux below that value will be set to 0.</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.init_guess_offset">
<span class="sig-name descname"><span class="pre">init_guess_offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.init_guess_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.init_guess_offset" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Initialise first guess, either from cross-correlation (default)
or from an Offset FITS Table</p>
<section id="id11">
<h3>Input<a class="headerlink" href="#id11" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>firstguess: str</dt>
<dd>
<p>If “crosscorr” uses cross-correlation to get the first guess
of the offsets. If “fits” uses the input fits table.</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.init_optical_flow">
<span class="sig-name descname"><span class="pre">init_optical_flow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">muse_hdu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minflux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guess_translation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0,</span> <span class="pre">0.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.init_optical_flow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.init_optical_flow" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get the optical flow for this hdu</p>
<section id="id12">
<h3>Input<a class="headerlink" href="#id12" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>muse_hdu: HDU</dt>
<dd>
<p>Muse HDU input</p>
</dd>
<dt>rotation: float</dt>
<dd>
<p>Input rotation</p>
</dd>
<dt>minflux: float</dt>
<dd>
<p>Minimum flux to consider in the image</p>
</dd>
<dt>name_musehdr: str</dt>
<dd>
<p>Name of hdr in case those are saved (self.save_hdr is True)</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.init_optical_flow_ima">
<span class="sig-name descname"><span class="pre">init_optical_flow_ima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minflux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_pcc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guess_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">0.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">provide_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.init_optical_flow_ima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.init_optical_flow_ima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Initialise the optical flow using the current image with index nima</p>
<section id="id13">
<h3>Input<a class="headerlink" href="#id13" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>nima: int</dt>
<dd>
<p>Index of image</p>
</dd>
<dt>minflux: float</dt>
<dd>
<p>Minimum flux to consider</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.init_optical_flow_listima">
<span class="sig-name descname"><span class="pre">init_optical_flow_listima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.init_optical_flow_listima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.init_optical_flow_listima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Initialise the optical flow on a list of images
given by a list of indices</p>
<section id="id14">
<h3>Input<a class="headerlink" href="#id14" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>list_nima: list of indices for images to process</dt>
<dd>
<p>Should be a list. Default is None
and all images are processed</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.iterate_on_optical_flow_ima">
<span class="sig-name descname"><span class="pre">iterate_on_optical_flow_ima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">niter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.iterate_on_optical_flow_ima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.iterate_on_optical_flow_ima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Iterate solution using the optical flow guess</p>
<section id="id15">
<h3>Input<a class="headerlink" href="#id15" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>nima: int</dt>
<dd>
<p>Index of image to consider</p>
</dd>
<dt>niter: int</dt>
<dd>
<p>Number of iterations</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.iterate_on_optical_flow_listima">
<span class="sig-name descname"><span class="pre">iterate_on_optical_flow_listima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.iterate_on_optical_flow_listima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.iterate_on_optical_flow_listima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run the iteration for the optical flow on a list of images
given by a list of indices</p>
<section id="id16">
<h3>Input<a class="headerlink" href="#id16" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>list_nima: list of indices for images to process</dt>
<dd>
<p>Should be a list. Default is None
and all images are processed</p>
</dd>
<dt>niter: int</dt>
<dd>
<p>Number of iterations. Optional. If  not provided, will use the
default in self.iterate_on_optical_flow_ima</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.offset_and_compare">
<span class="sig-name descname"><span class="pre">offset_and_compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_pixel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_arcsec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.offset_and_compare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.offset_and_compare" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run the offset and comparison for a given image number</p>
<section id="id17">
<h3>Input<a class="headerlink" href="#id17" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>nima: int</dt>
<dd>
<p>Index of the image to consider</p>
</dd>
<dt>extra_pixel: list of 2 floats</dt>
<dd>
<p>Offsets in X and Y in pixels to add to the existing
guessed offsets
IMPORTANT NOTE: extra_pixel will be considered first
(before extra_arcsec).</p>
</dd>
<dt>extra_arcsec: list of 2 floats</dt>
<dd>
<p>Offsets in X and Y in arcsec to add to the existing
guessed offsets. Ignored if extra_pixel is given or None</p>
</dd>
<dt>extra_rotation: rotation in degrees</dt>
<dd>
<p>Angle to rotate the image (in degrees). Ignore if None</p>
</dd>
<dt>threshold_muse: float [0]</dt>
<dd>
<p>Threshold to consider when plotting the comparison</p>
</dd>
</dl>
</section>
<section id="additional-arguments">
<h3>Additional arguments<a class="headerlink" href="#additional-arguments" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>plot (bool): if True, will plot the comparison</dt>
<dd>
<dl class="simple">
<dt>If not used, will use the default self.plot</dt>
<dd>
<ul class="simple">
<li><p>flux comparison (1 to 1)</p></li>
<li><p>Map of the flux ratio</p></li>
<li><p>Contours of the two scaled maps</p></li>
<li><p>Cuts of the division between the 2 maps</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<p>See also all arguments from self.compare</p>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.open_hdu">
<span class="sig-name descname"><span class="pre">open_hdu</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.open_hdu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.open_hdu" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Open the HDU of the MUSE and reference images</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.open_offset_table">
<span class="sig-name descname"><span class="pre">open_offset_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.open_offset_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.open_offset_table" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Read offset table from fits file</p>
<section id="id18">
<h3>Input<a class="headerlink" href="#id18" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>name_table: str</dt>
<dd>
<p>Name of the input OFFSET table</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>status</strong> (<em>None if no table name is given, False if file does not</em>) – exist, True if it does</p></li>
<li><p><strong>Table</strong> (<em>the result of a astropy.Table.read of the fits table</em>)</p></li>
</ul>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.print_images_names">
<span class="sig-name descname"><span class="pre">print_images_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.print_images_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.print_images_names" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Print out the names of the images being considered for alignment</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.print_offsets_and_norms">
<span class="sig-name descname"><span class="pre">print_offsets_and_norms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_temp.txt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.print_offsets_and_norms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.print_offsets_and_norms" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Save all offsets and norms into filename. By default, file will
be overwritten.</p>
<section id="id19">
<h3>Input<a class="headerlink" href="#id19" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>filename: str</dt>
<dd>
<p>Name of file where the output will be written</p>
</dd>
<dt>folder_output_file: str</dt>
<dd>
<p>Name of output folder where the file will be written</p>
</dd>
<dt>overwrite: bool</dt>
<dd>
<p>Default is True</p>
</dd>
</dl>
</section>
<section id="creates">
<h3>Creates<a class="headerlink" href="#creates" title="Permalink to this heading">¶</a>
</h3>
<blockquote>
<div>
<p>Ascii file named via the filename input argument</p>
</div>
</blockquote>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.run_optical_flow">
<span class="sig-name descname"><span class="pre">run_optical_flow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.run_optical_flow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.run_optical_flow" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run Optical flow, first with a guess offset and then iterating. The solution
is saved as extra offset in the class, and a op_plot instance is created.
If save_plot is True, it will save a set of default plots</p>
<section id="id20">
<h3>Input<a class="headerlink" href="#id20" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>list_nima: list</dt>
<dd>
<p>List of indices. If None, will use the default list of all images</p>
</dd>
<dt>save_plot<span class="classifier">bool</span>
</dt>
<dd>
<p>Whether to save the optical flow diagnostic plots or not.</p>
</dd>
<dt>use_rotation: bool</dt>
<dd>
<p>True if you wish to have rotation. False otherwise</p>
</dd>
</dl>
<p>verbose: bool</p>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.run_optical_flow_ima">
<span class="sig-name descname"><span class="pre">run_optical_flow_ima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.run_optical_flow_ima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.run_optical_flow_ima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run Optical flow on image with index nima,
first with a guess offset and then iterating. The solution
is saved as extra offset in the class, and a op_plot instance is created.
If save_plot is True, it will save a set of default plots</p>
<section id="id21">
<h3>Input<a class="headerlink" href="#id21" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>nima: int</dt>
<dd>
<p>Image index.</p>
</dd>
<dt>save_plot<span class="classifier">bool</span>
</dt>
<dd>
<p>Whether to save the optical flow diagnostic plots or not.</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.save_fits_offset_table">
<span class="sig-name descname"><span class="pre">save_fits_offset_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_output_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_output_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_flux_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_other_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.save_fits_offset_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.save_fits_offset_table" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Save the Offsets into a fits Table</p>
<section id="id22">
<h3>Input<a class="headerlink" href="#id22" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>folder_output_table: str [None]</dt>
<dd>
<p>Folder of the output table. If None (default) the folder
for the input offset table will be used or alternatively
the folder of the MUSE images.</p>
</dd>
<dt>name_output_table: str [None]</dt>
<dd>
<p>Name of the output fits table. If None (default) it will
use the one given in self.name_output_table</p>
</dd>
<dt>overwrite: bool [False]</dt>
<dd>
<p>If True, overwrite if the file exists</p>
</dd>
<dt>suffix: str [“”]</dt>
<dd>
<p>Suffix to be used to add to the input name. This is handy
to just modify the given fits name with a suffix
(e.g., version number).</p>
</dd>
<dt>save_flux_scale: bool [True]</dt>
<dd>
<p>If True, saving the flux in FLUX_SCALE
If False, do not save the flux conversion</p>
</dd>
<dt>save_other_params: bool [True]</dt>
<dd>
<p>If True, saving the background + rotation
If False, do not save these 2 parameters.</p>
</dd>
</dl>
</section>
<section id="id23">
<h3>Creates<a class="headerlink" href="#id23" title="Permalink to this heading">¶</a>
</h3>
<p>A fits table with the given name (using the suffix if any)</p>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.save_image">
<span class="sig-name descname"><span class="pre">save_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">newfits_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.save_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.save_image" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Save the newly determined hdu</p>
<section id="id24">
<h3>Input<a class="headerlink" href="#id24" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>newfits_name: str</dt>
<dd>
<p>Name of the fits file to be used</p>
</dd>
<dt>nima: int [0]</dt>
<dd>
<p>Index of the image to save</p>
</dd>
</dl>
</section>
<section id="id25">
<h3>Creates<a class="headerlink" href="#id25" title="Permalink to this heading">¶</a>
</h3>
<p>A new fits file</p>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.save_polypar_ima">
<span class="sig-name descname"><span class="pre">save_polypar_ima</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nima</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.save_polypar_ima"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.save_polypar_ima" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Saving the input values into the fixed arrays for the polynomial</p>
<section id="id26">
<h3>Input<a class="headerlink" href="#id26" title="Permalink to this heading">¶</a>
</h3>
<p>beta: list/array of 2 floats</p>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.show_linearfit_values">
<span class="sig-name descname"><span class="pre">show_linearfit_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.show_linearfit_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.show_linearfit_values" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Print some information about the linearly fitted parameters
pertaining to the normalisation.</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.show_norm_factors">
<span class="sig-name descname"><span class="pre">show_norm_factors</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.show_norm_factors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.show_norm_factors" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Print some information about the normalisation factors.</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.show_offset_fromfits">
<span class="sig-name descname"><span class="pre">show_offset_fromfits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.show_offset_fromfits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.show_offset_fromfits" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Print offset table from fits file</p>
<section id="id27">
<h3>Input<a class="headerlink" href="#id27" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>name_table: str</dt>
<dd>
<p>Name of the input OFFSET table</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.AlignMuseDataset.show_offsets">
<span class="sig-name descname"><span class="pre">show_offsets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#AlignMuseDataset.show_offsets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.AlignMuseDataset.show_offsets" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Print out the offset from the Alignment class</p>
</dd>
</dl>

</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.arcsec_to_pixel">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.align_pipe.</span></span><span class="sig-name descname"><span class="pre">arcsec_to_pixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xy_arcsec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">0.0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#arcsec_to_pixel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.arcsec_to_pixel" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Transform from arcsec to pixel for the muse image
using the hdu to extract the WCS, hence the scaling.</p>
<section id="id28">
<h3>Input<a class="headerlink" href="#id28" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>hdu: astropy hdu (fits)</dt>
<dd>
<p>Input hdu which includes a WCS</p>
</dd>
<dt>xy_arcsec: list of 2 floats ([0,0])</dt>
<dd>
<p>Coordinates to transform from arcsec to pixel.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>xpix, ypix</strong> (<em>tuple or list of 2 floats</em>) – Pixel coordinates</p></li>
<li><p><strong>See also</strong> (<em>pixel_to_arcsec (align_pipe.py)</em>)</p></li>
</ul>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.create_offset_table">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.align_pipe.</span></span><span class="sig-name descname"><span class="pre">create_offset_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dummy_offset_table.fits'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#create_offset_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.create_offset_table" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create an offset list table from a given set of images. It will use
the MJD and DATE as read from the descriptors of the images. The names for
these keywords is stored in the dictionary default_offset_table from
config_pipe.py</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>image_names</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – List of image names to be considered. (Default value = [])</p></li>
<li><p><strong>table_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – folder of the table (Default value = “”)</p></li>
<li><p><strong>table_name</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – name of the table to save [‘dummy_offset_table.fits’]
(Default value = “dummy_offset_table.fits”)</p></li>
<li><p><strong>overwrite</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if the table exists, it will be overwritten if set
to True only. (Default value = False)</p></li>
<li><p><strong>overwrite</strong> – if the table exists, it will be overwritten if set
to True only. (Default value = False)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>A fits table with the output given name. (Default value = False)</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.get_conversion_factor">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.align_pipe.</span></span><span class="sig-name descname"><span class="pre">get_conversion_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_unit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_unit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'WFI'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#get_conversion_factor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.get_conversion_factor" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Conversion of units from an input one
to an output one</p>
<section id="id29">
<h3>Input<a class="headerlink" href="#id29" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>input_unit: astropy unit</dt>
<dd>
<p>Input astropy unit to analyse</p>
</dd>
<dt>output_unit: astropy unit</dt>
<dd>
<p>Astropy unit to compare to input unit.</p>
</dd>
<dt>equivalencies: astropy equivalency</dt>
<dd>
<p>Used in case there is an existing equivalency
to help the conversion</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>conversion</strong></p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>astropy unit conversion</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.init_plot_optical_flow">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.align_pipe.</span></span><span class="sig-name descname"><span class="pre">init_plot_optical_flow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opflow</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#init_plot_optical_flow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.init_plot_optical_flow" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Initialise the optical flow plot using the AlignmentPlotting</p>
<section id="id30">
<h3>Input<a class="headerlink" href="#id30" title="Permalink to this heading">¶</a>
</h3>
<p>opflow: optical flow instance (see spacepylot)</p>
<dl class="field-list simple">
<dt class="field-odd">rtype<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>An optical flow plot instance</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.is_sequence">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.align_pipe.</span></span><span class="sig-name descname"><span class="pre">is_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#is_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.is_sequence" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Test if sequence and return the boolean result</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>arg</strong> (<em>input argument</em>) – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p><strong>result</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>boolean</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.pixel_to_arcsec">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.align_pipe.</span></span><span class="sig-name descname"><span class="pre">pixel_to_arcsec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xy_pixel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">0.0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#pixel_to_arcsec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.pixel_to_arcsec" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Transform from arcsec to pixel for the muse image
using the hdu to extract the WCS, hence the scaling.</p>
<section id="id31">
<h3>Input<a class="headerlink" href="#id31" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>hdu: astropy hdu (fits)</dt>
<dd>
<p>Input hdu which includes a WCS</p>
</dd>
<dt>xy_pixel: tuple or list of 2 floats ((0,0))</dt>
<dd>
<p>Coordinates to transform from pixel to arcsec</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>xarc, yarc</strong> (<em>2 floats</em>) – Arcseconds coordinates</p></li>
<li><p><strong>See also</strong> (<em>arcsec_to_pixel (align_pipe.py)</em>)</p></li>
</ul>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.rotate_pixtable">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.align_pipe.</span></span><span class="sig-name descname"><span class="pre">rotate_pixtable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nifu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#rotate_pixtable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.rotate_pixtable" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Rotate a single IFU PIXTABLE_OBJECT
Will thus update the HIERARCH ESO INS DROT POSANG keyword.</p>
<section id="id32">
<h3>Input<a class="headerlink" href="#id32" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>folder: str</dt>
<dd>
<p>name of the folder where the PIXTABLE are</p>
</dd>
<dt>name_suffix: str</dt>
<dd>
<p>name of the suffix to be used on top of PIXTABLE_OBJECT</p>
</dd>
<dt>nifu: int</dt>
<dd>
<p>Pixtable number. Default is 1</p>
</dd>
<dt>angle: float</dt>
<dd>
<p>Angle to rotate (in degrees)</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.align_pipe.rotate_pixtables">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.align_pipe.</span></span><span class="sig-name descname"><span class="pre">rotate_pixtables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_ifu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/align_pipe.html#rotate_pixtables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.align_pipe.rotate_pixtables" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Will update the derotator angle in each of the 24 pixtables
Using a loop on rotate_pixtable</p>
<p>Will thus update the HIERARCH ESO INS DROT POSANG keyword.</p>
<section id="id33">
<h3>Input<a class="headerlink" href="#id33" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>folder: str</dt>
<dd>
<p>name of the folder where the PIXTABLE are</p>
</dd>
<dt>name_suffix: str</dt>
<dd>
<p>name of the suffix to be used on top of PIXTABLE_OBJECT</p>
</dd>
<dt>list_ifu: list[int]</dt>
<dd>
<p>List of Pixtable numbers. If None, will do all 24</p>
</dd>
<dt>angle: float</dt>
<dd>
<p>Angle to rotate (in degrees)</p>
</dd>
</dl>
</section>
</dd>
</dl>

</section>
<section id="module-pymusepipe.check_pipe">
<span id="pymusepipe-check-pipe-module"></span><h2>pymusepipe.check_pipe module<a class="headerlink" href="#module-pymusepipe.check_pipe" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS check pipeline module</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.check_pipe.CheckPipe">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.check_pipe.</span></span><span class="sig-name descname"><span class="pre">CheckPipe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mycube</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DATACUBE_FINAL.fits'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdf_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'check_pipe.pdf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standard_set</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference internal" href="#pymusepipe.musepipe.MusePipe" title="pymusepipe.musepipe.MusePipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">MusePipe</span></code></a></p>
<p>Checking the outcome of the data reduction</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.check_pipe.CheckPipe.check_given_images">
<span class="sig-name descname"><span class="pre">check_given_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe.check_given_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe.check_given_images" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Check all images with given suffix</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.check_pipe.CheckPipe.check_master_bias_flat">
<span class="sig-name descname"><span class="pre">check_master_bias_flat</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe.check_master_bias_flat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe.check_master_bias_flat" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Checking the Master bias and Master flat</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.check_pipe.CheckPipe.check_quadrants">
<span class="sig-name descname"><span class="pre">check_quadrants</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe.check_quadrants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe.check_quadrants" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Checking spectra from the 4 quadrants</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.check_pipe.CheckPipe.check_sky_spectra">
<span class="sig-name descname"><span class="pre">check_sky_spectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">suffix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe.check_sky_spectra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe.check_sky_spectra" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Check all sky spectra from the exposures</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.check_pipe.CheckPipe.check_white_line_images">
<span class="sig-name descname"><span class="pre">check_white_line_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Ha'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#CheckPipe.check_white_line_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.check_pipe.CheckPipe.check_white_line_images" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Building the White and Ha images and
Adding them on the page</p>
</dd>
</dl>

</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.check_pipe.print_plot">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.check_pipe.</span></span><span class="sig-name descname"><span class="pre">print_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/check_pipe.html#print_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.check_pipe.print_plot" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

</section>
<section id="module-pymusepipe.combine">
<span id="pymusepipe-combine-module"></span><h2>pymusepipe.combine module<a class="headerlink" href="#module-pymusepipe.combine" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS combine module</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.combine.</span></span><span class="sig-name descname"><span class="pre">MusePointings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_pointings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_exposures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_masked_pixtables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tmask'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cal_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combined_folder_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Combined'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MusePipeCombine.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference internal" href="#pymusepipe.create_sof.SofPipe" title="pymusepipe.create_sof.SofPipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">SofPipe</span></code></a>, <a class="reference internal" href="#pymusepipe.recipes_pipe.PipeRecipes" title="pymusepipe.recipes_pipe.PipeRecipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">PipeRecipes</span></code></a></p>
<p>Class for a set of MUSE Pointings which can be covering several
datasets. This provides a set of rules and methods to access the data and
process them.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.create_all_pointings_wcs">
<span class="sig-name descname"><span class="pre">create_all_pointings_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'white'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_pointings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.create_all_pointings_wcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.create_all_pointings_wcs" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create all pointing masks one by one
as well as the wcs for each individual pointings. Using the grid
from the global WCS of the mosaic but restricting it to the
range of non-NaN.
Hence this needs a global WCS mosaic as a reference to work.</p>
<section id="id34">
<h3>Input<a class="headerlink" href="#id34" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>filter_list = list of str</dt>
<dd>
<p>List of filter names to be used.</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.create_combined_wcs">
<span class="sig-name descname"><span class="pre">create_combined_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refcube_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdaminmax_wcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[6800,</span> <span class="pre">6805]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.create_combined_wcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.create_combined_wcs" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create the reference WCS from the full mosaic
with a given range of lambda.</p>
<section id="id35">
<h3>Input<a class="headerlink" href="#id35" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>refcube_name: str</dt>
<dd>
<p>Name of the cube. Can be None, and then the final
datacube from the combine folder will be used.</p>
</dd>
<dt>wave1: float - optional</dt>
<dd>
<p>Wavelength taken for the extraction. Should only
be present in all spaxels you wish to get.</p>
</dd>
<dt>prefix_wcs: str - optional</dt>
<dd>
<p>Prefix to be added to the name of the input cube.
By default, will use “refwcs”.</p>
</dd>
<dt>add_targetname: bool [True]</dt>
<dd>
<p>Add the name of the target to the name of the output
WCS reference cube. Default is True.</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.create_pointing_wcs">
<span class="sig-name descname"><span class="pre">create_pointing_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pointing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdaminmax_mosaic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[4700,</span> <span class="pre">9400]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'white'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.create_pointing_wcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.create_pointing_wcs" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create the mask of a given pointing
And also a WCS file which can then be used to compute individual
pointings with a fixed WCS.</p>
<section id="id36">
<h3>Input<a class="headerlink" href="#id36" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>pointing: int</dt>
<dd>
<p>Number of the pointing</p>
</dd>
<dt>filter_list = list of str</dt>
<dd>
<p>List of filter names to be used.</p>
</dd>
<dt>Creates:</dt>
<dd>
<p>pointing mask WCS cube</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>Name of the created WCS cube</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.create_reference_wcs">
<span class="sig-name descname"><span class="pre">create_reference_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pointings_wcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mosaic_wcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_cube</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refcube_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.create_reference_wcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.create_reference_wcs" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create the WCS reference files, for all individual pointings and for
the mosaic.</p>
<dl class="simple">
<dt>pointings_wcs: bool [True]</dt>
<dd>
<p>Will run the individual pointings WCS</p>
</dd>
<dt>mosaic_wcs: bool [True]</dt>
<dd>
<p>Will run the combined WCS</p>
</dd>
</dl>
<p>lambdaminmax: [float, float]</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.extract_combined_narrow_wcs">
<span class="sig-name descname"><span class="pre">extract_combined_narrow_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_cube</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.extract_combined_narrow_wcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.extract_combined_narrow_wcs" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create the reference WCS from the full mosaic with
only 2 lambdas</p>
<section id="id37">
<h3>Input<a class="headerlink" href="#id37" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>name_cube: str</dt>
<dd>
<p>Name of the cube. Can be None, and then the final
datacube from the combine folder will be used.</p>
</dd>
<dt>wave1: float - optional</dt>
<dd>
<p>Wavelength taken for the extraction. Should only
be present in all spaxels you wish to get.</p>
</dd>
<dt>prefix_wcs: str - optional</dt>
<dd>
<p>Prefix to be added to the name of the input cube.
By default, will use “refwcs”.</p>
</dd>
<dt>add_targetname: bool [True]</dt>
<dd>
<p>Add the name of the target to the name of the output
WCS reference cube. Default is True.</p>
</dd>
<dt>Creates:</dt>
<dd>
<p>Combined narrow band WCS cube</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>name of the created cube</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.full_list_datasets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">full_list_datasets</span></span><a class="headerlink" href="#pymusepipe.combine.MusePointings.full_list_datasets" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.goto_folder">
<span class="sig-name descname"><span class="pre">goto_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">newpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addtolog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.goto_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.goto_folder" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Changing directory and keeping memory of the old working one</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.goto_origfolder">
<span class="sig-name descname"><span class="pre">goto_origfolder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">addtolog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.goto_origfolder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.goto_origfolder" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Go back to original folder</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.goto_prevfolder">
<span class="sig-name descname"><span class="pre">goto_prevfolder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">addtolog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.goto_prevfolder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.goto_prevfolder" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Go back to previous folder</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.run_combine">
<span class="sig-name descname"><span class="pre">run_combine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pointings_combine'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdaminmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[4000.0,</span> <span class="pre">10000.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_pointings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.run_combine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.run_combine" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>MUSE Exp_combine treatment of the reduced pixtables
Will run the esorex muse_exp_combine routine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>lambdaminmax</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> of </em><em>2 floats</em>) – Minimum and maximum lambda values to consider for the combine</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Suffix to be used for the output name</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.run_combine_all_single_pointings">
<span class="sig-name descname"><span class="pre">run_combine_all_single_pointings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">add_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pointings_combine'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_pointings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.run_combine_all_single_pointings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.run_combine_all_single_pointings" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run for all pointings individually, provided in the
list of pointings, by just looping over the pointings.</p>
<section id="id38">
<h3>Input<a class="headerlink" href="#id38" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>list_pointings: list of int</dt>
<dd>
<p>By default to None (using the default self.list_pointings).
Otherwise a list of pointings you wish to conduct
a combine but for each individual pointing.</p>
</dd>
<dt>add_suffix: str</dt>
<dd>
<p>Additional suffix. ‘PXX’ where XX is the pointing number
will be automatically added to that add_suffix for
each individual pointing.</p>
</dd>
<dt>sof_filename: str</dt>
<dd>
<p>Name (suffix only) of the sof file for this combine.
By default, it is set to ‘pointings_combine’.</p>
</dd>
<dt>lambdaminmax: list of 2 floats [in Angstroems]</dt>
<dd>
<p>Minimum and maximum lambda values to consider for the combine.
Default is 4000 and 10000 for the lower and upper limits, resp.</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.run_combine_single_pointing">
<span class="sig-name descname"><span class="pre">run_combine_single_pointing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pointing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pointing_combine'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.run_combine_single_pointing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.run_combine_single_pointing" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the combine routine on just one single pointing</p>
<section id="id39">
<h3>Input<a class="headerlink" href="#id39" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>pointing: int</dt>
<dd>
<p>Pointing number. No default: must be provided.</p>
</dd>
<dt>add_suffix: str</dt>
<dd>
<p>Additional suffix. ‘PXX’ where XX is the pointing number
will be automatically added to that add_suffix.</p>
</dd>
<dt>sof_filename: str</dt>
<dd>
<p>Name (suffix only) of the sof file for this combine.
By default, it is set to ‘pointings_combine’.</p>
</dd>
<dt>lambdaminmax: list of 2 floats [in Angstroems]</dt>
<dd>
<p>Minimum and maximum lambda values to consider for the combine.
Default is 4000 and 10000 for the lower and upper limits, resp.</p>
</dd>
<dt>wcs_from_mosaic: bool</dt>
<dd>
<p>True by default, meaning that the WCS of the mosaic will be used.
If not there, will ignore it.</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.combine.MusePointings.set_fullpath_names">
<span class="sig-name descname"><span class="pre">set_fullpath_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#MusePointings.set_fullpath_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.MusePointings.set_fullpath_names" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create full path names to be used
That includes: root, data, target, but also _dict_paths, paths</p>
</dd>
</dl>

</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.combine.build_dict_exposures">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.combine.</span></span><span class="sig-name descname"><span class="pre">build_dict_exposures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str_dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OB'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndigits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_pointings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#build_dict_exposures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.build_dict_exposures" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Build a dictionary of exposures using the list of datasets found for the
given dataset path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>target_path</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path of the target data</p></li>
<li><p><strong>str_dataset</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Prefix string for datasets</p></li>
<li><p><strong>ndigits</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of digits to format the name of the dataset</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p><strong>dict_expo</strong> – Dictionary of exposures in each dataset</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.combine.get_list_datasets">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.combine.</span></span><span class="sig-name descname"><span class="pre">get_list_datasets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str_dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OB'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndigits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#get_list_datasets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.get_list_datasets" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Getting the list of existing datasets for a given target path</p>
<section id="id40">
<h3>Input<a class="headerlink" href="#id40" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>target_path: str</dt>
<dd>
<p>Path of the target data</p>
</dd>
<dt>str_dataset: str</dt>
<dd>
<p>Prefix string for datasets</p>
</dd>
<dt>ndigits: int</dt>
<dd>
<p>Number of digits to format the name of the dataset</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>list_datasets</strong></p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>list of int</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.combine.get_list_exposures">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.combine.</span></span><span class="sig-name descname"><span class="pre">get_list_exposures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#get_list_exposures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.get_list_exposures" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Getting a list of exposures from a given path</p>
<section id="id41">
<h3>Input<a class="headerlink" href="#id41" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>dataset_path: str</dt>
<dd>
<p>Folder name where the dataset is</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>list_expos</strong></p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>list of int</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.combine.get_list_periods">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.combine.</span></span><span class="sig-name descname"><span class="pre">get_list_periods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#get_list_periods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.get_list_periods" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Getting a list of existing periods
for a given path</p>
<section id="id42">
<h3>Input<a class="headerlink" href="#id42" title="Permalink to this heading">¶</a>
</h3>
<p>path: str</p>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>list_targets</strong></p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>list of str</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.combine.get_list_reduced_pixtables">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.combine.</span></span><span class="sig-name descname"><span class="pre">get_list_reduced_pixtables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str_dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OB'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndigits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#get_list_reduced_pixtables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.get_list_reduced_pixtables" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Provide a list of reduced pixtables</p>
<section id="id43">
<h3>Input<a class="headerlink" href="#id43" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>target_path: str</dt>
<dd>
<p>Path for the target folder</p>
</dd>
<dt>list_datasets: list of int</dt>
<dd>
<p>List of integers, providing the list of datasets to consider</p>
</dd>
<dt>suffix: str</dt>
<dd>
<p>Additional suffix, if needed, for the names of the PixTables.</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.combine.get_list_targets">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.combine.</span></span><span class="sig-name descname"><span class="pre">get_list_targets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/combine.html#get_list_targets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.combine.get_list_targets" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Getting a list of existing periods for a given path</p>
<section id="id44">
<h3>Input<a class="headerlink" href="#id44" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>folder: str</dt>
<dd>
<p>Folder name where the targets are</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>list_targets</strong></p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>list of str</p>
</dd>
</dl>
</section>
</dd>
</dl>

</section>
<section id="module-pymusepipe.config_pipe">
<span id="pymusepipe-config-pipe-module"></span><h2>pymusepipe.config_pipe module<a class="headerlink" href="#module-pymusepipe.config_pipe" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS configuration module</p>
<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.config_pipe.get_suffix_product">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.config_pipe.</span></span><span class="sig-name descname"><span class="pre">get_suffix_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expotype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/config_pipe.html#get_suffix_product"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.config_pipe.get_suffix_product" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

</section>
<section id="module-pymusepipe.create_sof">
<span id="pymusepipe-create-sof-module"></span><h2>pymusepipe.create_sof module<a class="headerlink" href="#module-pymusepipe.create_sof" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS creating sof file module</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.create_sof.SofDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.create_sof.</span></span><span class="sig-name descname"><span class="pre">SofDict</span></span><a class="reference internal" href="../_modules/pymusepipe/create_sof.html#SofDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.create_sof.SofDict" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.OrderedDict" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a></p>
<p>New Dictionary for the SOF writing
Inheriting from ordered Dictionary</p>
</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.create_sof.SofPipe">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.create_sof.</span></span><span class="sig-name descname"><span class="pre">SofPipe</span></span><a class="reference internal" href="../_modules/pymusepipe/create_sof.html#SofPipe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.create_sof.SofPipe" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>SofPipe class containing all the SOF writing modules</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.create_sof.SofPipe.write_sof">
<span class="sig-name descname"><span class="pre">write_sof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/create_sof.html#SofPipe.write_sof"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.create_sof.SofPipe.write_sof" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Feeding an sof file with input filenames from a dictionary</p>
</dd>
</dl>

</dd>
</dl>

</section>
<section id="module-pymusepipe.cube_convolve">
<span id="pymusepipe-cube-convolve-module"></span><h2>pymusepipe.cube_convolve module<a class="headerlink" href="#module-pymusepipe.cube_convolve" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS convolve module</p>
<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.cube_convolve.convolution_kernel">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.cube_convolve.</span></span><span class="sig-name descname"><span class="pre">convolution_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_psf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_psf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#convolution_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.cube_convolve.convolution_kernel" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create the 3D convolution kernel starting from a 3D model of the original
PSF and a 2D model of the target PSF using pypher.</p>
<dl class="simple">
<dt>Parameters</dt>
<dd>
<p>input_psf (np.ndarray): 3D array with the model of the original PSF
target_psf (np.ndarray): 2D array with a model of the target PSF
scale (float): spatial scale of both PSF in arcsec/pix</p>
</dd>
<dt>Returns</dt>
<dd>
<dl class="simple">
<dt>conv_kernel (np.ndarray): 3D array with a convolution kernel</dt>
<dd>
<p>that varies as a function of wavelength.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.cube_convolve.convolution_kernel_gaussian">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.cube_convolve.</span></span><span class="sig-name descname"><span class="pre">convolution_kernel_gaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fwhm_wave</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_fwhm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_psf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#convolution_kernel_gaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.cube_convolve.convolution_kernel_gaussian" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create the 3D convolution kernel starting from a 3D model of the original
PSF and a 2D model of the target PSF using both gaussian functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>fwhm_wave</strong> (<em>array</em>) – FWHM of the original PSF as a function of
wavelength</p></li>
<li><p><strong>target_fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – fwhm of the target PSF</p></li>
<li><p><strong>target_psf</strong> (<em>np.ndarray</em>) – target psf2d</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – spatial scale of both PSF in arcsec/pix</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p></p>
<dl class="simple">
<dt>np.ndarray</dt>
<dd>
<p>3D array with a convolution kernel that varies as a function of
wavelength.</p>
</dd>
</dl>

</dd>
<dt class="field-odd">Return type<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>conv_kernel</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.cube_convolve.cube_convolve">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.cube_convolve.</span></span><span class="sig-name descname"><span class="pre">cube_convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fft</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#cube_convolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.cube_convolve.cube_convolve" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Convolve a 3D datacube</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>datacube</strong> – </p></li>
<li><p><strong>kernel</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>the convolved 3D data and its variance</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.cube_convolve.cube_kernel">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.cube_convolve.</span></span><span class="sig-name descname"><span class="pre">cube_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wave</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_fwhm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_fwhm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6483.58</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_nmoffat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_nmoffat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-3e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_kernel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pypher'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#cube_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.cube_convolve.cube_kernel" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Main function to create the convolution kernel for the datacube</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>shape</strong> (<em>array</em>) – the shape of the datacube that is going to be convolved.
It must be in the form (z, y, x).</p></li>
<li><p><strong>wave</strong> (<em>float array</em>) – wavelengths for the datacube</p></li>
<li><p><strong>target_fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – fwhm of the target PSF.</p></li>
<li><p><strong>input_fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – fwhm of the original PSF at the reference
wavelength lambda0</p></li>
<li><p><strong>input_function</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – function to be used to describe the input PSF</p></li>
<li><p><strong>target_function</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – function to be used to describe the target PSF</p></li>
<li><p><strong>lambda0</strong> – float, optional
the wavelength at which the original_fwhm has been measured.
Default: 6483.58 (central wavelenght of WFI_BB filter)</p></li>
<li><p><strong>input_nmoffat</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – power index of the original PSF if Moffat [None]</p></li>
<li><p><strong>target_nmoffat</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – power index for the target PSF if Moffat [None]</p></li>
<li><p><strong>b</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – steepness of the fwhm vs wavelength relation. Default: -3e-5</p></li>
<li><p><strong>step</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – wavelength dispersion in AA/px</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – spatial pixel scale of the PSFs in arcsec/pix</p></li>
<li><p><strong>compute_kernel</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – method to compute the convolution kernel.
It can be ‘pypher’ or ‘gaussian’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p></p>
<dl class="simple">
<dt>np.ndarray</dt>
<dd>
<p>3D array to be used in the convolution</p>
</dd>
</dl>

</dd>
<dt class="field-odd">Return type<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>Kernel</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.cube_convolve.gaussian_kernel">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.cube_convolve.</span></span><span class="sig-name descname"><span class="pre">gaussian_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fwhm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#gaussian_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.cube_convolve.gaussian_kernel" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Gaussian kernel.
Input:</p>
<blockquote>
<div>
<p>fwhm (float): fwhm of the Gaussian kernel, in arcsec.
size (int, ndarray): size of the requested kernel along each axis.</p>
<blockquote>
<div>
<p>If <a href="#id45"><span class="problematic" id="id46">``</span></a>size’’ is a scalar number the final kernel will be a square of
side <a href="#id47"><span class="problematic" id="id48">``</span></a>size’’. If <a href="#id49"><span class="problematic" id="id50">``</span></a>size’’ has two element they must be in
(y_size, x_size) order. In each case size must be an integer number
of pixels.</p>
</div>
</blockquote>
<p>scale (float): pixel scale of the image
<a href="#id51"><span class="problematic" id="id52">**</span></a>kwargs: is there to absorb any additional parameter which could be</p>
<blockquote>
<div>
<p>provided (but won’t be used).</p>
</div>
</blockquote>
</div>
</blockquote>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.cube_convolve.moffat_kernel">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.cube_convolve.</span></span><span class="sig-name descname"><span class="pre">moffat_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fwhm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#moffat_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.cube_convolve.moffat_kernel" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Moffat kernel. Returns a Moffat function array according to given
input parameters. Using astropy Moffat2DKernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – fwhm of the Moffat kernel, in arcsec.</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – power index of the Moffat</p></li>
<li><p><strong>size</strong> (<em>int numpy array</em>) – size of the requested kernel along each axis.
If <a href="#id53"><span class="problematic" id="id54">``</span></a>size’’ is a scalar number the final kernel will be a square of
side <a href="#id55"><span class="problematic" id="id56">``</span></a>size’’. If <a href="#id57"><span class="problematic" id="id58">``</span></a>size’’ has two element they must be in
(y_size, x_size) order. In each case size must be an integer
number of pixels.</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – pixel scale of the image [optional]</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.cube_convolve.psf2d">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.cube_convolve.</span></span><span class="sig-name descname"><span class="pre">psf2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwhm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nmoffat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#psf2d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.cube_convolve.psf2d" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create a model of the target PSF of the convolution. The target PSF does
not vary as a function of wavelenght, therefore the output is a 2D array.</p>
<dl>
<dt>Parameters</dt>
<dd>
<dl class="simple">
<dt>size: int, array-like</dt>
<dd>
<p>the size of the final array. If <a href="#id59"><span class="problematic" id="id60">``</span></a>size’’ is a scalar number the
kernel will be a square of side <a href="#id61"><span class="problematic" id="id62">``</span></a>size’’. If <a href="#id63"><span class="problematic" id="id64">``</span></a>size’’ has two
elements they must be in (y_size, x_size) order.</p>
</dd>
<dt>fwhm: float</dt>
<dd>
<p>the FWHM of the psf</p>
</dd>
<dt>function: str, optional</dt>
<dd>
<p>the function to model the target PSF. Only ‘gaussian’ or ‘moffat’
are accepted. Default: ‘gaussian’</p>
</dd>
</dl>
<p>nmoffat (float): Moffat power index. It must be defined if
function = ‘moffat’.</p>
<blockquote>
<div>
<p>Default: None</p>
</div>
</blockquote>
<dl class="simple">
<dt>scale: float, optional</dt>
<dd>
<p>the spatial scale of the final kernel</p>
</dd>
</dl>
</dd>
<dt>Returns</dt>
<dd>
<dl class="simple">
<dt>target: np.ndarray</dt>
<dd>
<p>a 2D array with the model of the target PSF.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.cube_convolve.psf3d">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.cube_convolve.</span></span><span class="sig-name descname"><span class="pre">psf3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wave</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwhm0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6483.58</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-3e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nmoffat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'moffat'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#psf3d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.cube_convolve.psf3d" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Function to create the cube with the  lambda dependent PSF, following
a given slope and nominal wavelength.</p>
<dl>
<dt>Parameters</dt>
<dd>
<dl class="simple">
<dt>wave: np.ndarray</dt>
<dd>
<p>array with the wavelength axis of the datacube</p>
</dd>
<dt>size: int, array-like</dt>
<dd>
<p>the size of the 2D PSF.  If <a href="#id65"><span class="problematic" id="id66">``</span></a>size’’ is a scalar number the 2D PSF
kernel will be a square of side <a href="#id67"><span class="problematic" id="id68">``</span></a>size’’. If <a href="#id69"><span class="problematic" id="id70">``</span></a>size’’ has two element
they must be in (y_size, x_size) order.</p>
</dd>
<dt>fwhm0: float</dt>
<dd>
<p>the fwhm at the reference wavelength in arcseconds.</p>
</dd>
<dt>n: float</dt>
<dd>
<p>Power index of the Moffat profile. It is usually 2.8 for NOAO cubes
and 2.3 for AO cubes.</p>
</dd>
<dt>lambda0: float</dt>
<dd>
<p>reference wavelength at which fwhm0 is measured. Default: 6483.58.
(It’s the average wavelength for the WFI_BB filter)</p>
</dd>
<dt>b: float, optional</dt>
<dd>
<p>the steepness of the relation between wavelength and FWHM.
Default: -3e-5 (arcsec/A) (From MUSE team)</p>
</dd>
<dt>scale: float, optional</dt>
<dd>
<p>spatial scale of the new datacube in arcsec. Default: 0.2 (MUSE
spatial resolution).</p>
</dd>
</dl>
<p>function (str): ‘moffat’ or ‘gaussian’</p>
</dd>
<dt>Returns</dt>
<dd>
<dl class="simple">
<dt>psf_cube: np.array</dt>
<dd>
<p>Datacube containing MUSE PSF as a function of wavelength.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.cube_convolve.pypher_script">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.cube_convolve.</span></span><span class="sig-name descname"><span class="pre">pypher_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psf_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psf_target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixscale_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixscale_target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reg_fact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/cube_convolve.html#pypher_script"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.cube_convolve.pypher_script" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>calculate the convolution kernel to move from one PSF to a target one.
This is an adaptation of the main pypher script that it is meant to be used
from the terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>psf_source</strong> (<em>ndarray</em>) – 2D PSF of the source image.</p></li>
<li><p><strong>psf_target</strong> (<em>ndarray</em>) – target 2D PSF</p></li>
<li><p><strong>pixscale_source</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – pixel scale of the source PSF [0.2]</p></li>
<li><p><strong>pixscale_target</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – pixel scale of the target PSF [0.2]</p></li>
<li><p><strong>angle_source</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – position angle of the source PSF. [0]</p></li>
<li><p><strong>angle_target</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – position angle of the target PSF. [0]</p></li>
<li><p><strong>reg_fact</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Regularisation parameter for the Wiener filter [1.e-4]</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If True it prints more info on screen [False]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p></p>
<dl class="simple">
<dt>a 2D kernel that convolved with the source PSF</dt>
<dd>
<p>returns the target PSF</p>
</dd>
</dl>

</dd>
<dt class="field-odd">Return type<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>kernel</p>
</dd>
</dl>
</dd>
</dl>

</section>
<section id="module-pymusepipe.emission_lines">
<span id="pymusepipe-emission-lines-module"></span><h2>pymusepipe.emission_lines module<a class="headerlink" href="#module-pymusepipe.emission_lines" title="Permalink to this heading">¶</a>
</h2>
<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.emission_lines.print_emission_lines">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.emission_lines.</span></span><span class="sig-name descname"><span class="pre">print_emission_lines</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/emission_lines.html#print_emission_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.emission_lines.print_emission_lines" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Printing the names of the various emission lines</p>
</dd>
</dl>

</section>
<section id="module-pymusepipe.graph_pipe">
<span id="pymusepipe-graph-pipe-module"></span><h2>pymusepipe.graph_pipe module<a class="headerlink" href="#module-pymusepipe.graph_pipe" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS plotting routines</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.GraphMuse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.graph_pipe.</span></span><span class="sig-name descname"><span class="pre">GraphMuse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'drs_check.pdf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10,</span> <span class="pre">14)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rect_layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0.03,</span> <span class="pre">1,</span> <span class="pre">0.95]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Graphic output to check MUSE data reduction products</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.GraphMuse.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.close" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.GraphMuse.plot_page">
<span class="sig-name descname"><span class="pre">plot_page</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.plot_page"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.plot_page" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Plot a set of blocks, each made of a set of spectra or
images. This is for 1 page
It first counts the number of lines needed according to the
separation for images (default is 2 per line, each image taking 2 lines)
and spectra (1 spectrum per line over 2 columns)</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.GraphMuse.plot_set_images">
<span class="sig-name descname"><span class="pre">plot_set_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_of_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.plot_set_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.plot_set_images" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Plotting a set of images
Skipping the ones that are ‘None’</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.GraphMuse.plot_set_spectra">
<span class="sig-name descname"><span class="pre">plot_set_spectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_of_spectra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.plot_set_spectra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.plot_set_spectra" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Plotting a set of spectra
Skipping the ones that are ‘None’</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.GraphMuse.savepage">
<span class="sig-name descname"><span class="pre">savepage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.savepage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.savepage" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.GraphMuse.start_page">
<span class="sig-name descname"><span class="pre">start_page</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#GraphMuse.start_page"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.GraphMuse.start_page" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Start the page</p>
</dd>
</dl>

</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.open_new_wcs_figure">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.graph_pipe.</span></span><span class="sig-name descname"><span class="pre">open_new_wcs_figure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nfig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mywcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#open_new_wcs_figure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.open_new_wcs_figure" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Open a new figure (with number nfig) with given wcs.
If not WCS is provided, just opens a subplot in that figure.</p>
<section id="id71">
<h3>Input<a class="headerlink" href="#id71" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>nfig<span class="classifier">int</span>
</dt>
<dd>
<p>Figure number to consider</p>
</dd>
<dt>mywcs<span class="classifier">astropy.wcs.WCS</span>
</dt>
<dd>
<p>Input WCS to open a new figure (Default value = None)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>Figure itself with the subplots using the wcs projection</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>fig, subplot</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.plot_compare_contours">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.graph_pipe.</span></span><span class="sig-name descname"><span class="pre">plot_compare_contours</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotwcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('Data1',</span> <span class="pre">'Data2')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nlevels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fignum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dummy_contours.png'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figfolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#plot_compare_contours"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.plot_compare_contours" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Creates a plot with the contours of two input datasets for comparison</p>
<section id="id72">
<h3>Input<a class="headerlink" href="#id72" title="Permalink to this heading">¶</a>
</h3>
<p>data1
data2: 2d np.arrays</p>
<blockquote>
<div>
<p>Input arrays to compare</p>
</div>
</blockquote>
<dl class="simple">
<dt>plotwcs: WCS</dt>
<dd>
<p>WCS used to set the plot if provided</p>
</dd>
<dt>labels: tuple/list of 2 str</dt>
<dd>
<p>Labels for the plot</p>
</dd>
<dt>levels: list of floats</dt>
<dd>
<p>Levels to be used for the contours. Calculated if None.</p>
</dd>
<dt>fignum: int</dt>
<dd>
<p>Number for the figure</p>
</dd>
<dt>namefig: str</dt>
<dd>
<p>Name of the figure to be saved (if savefig is True)</p>
</dd>
<dt>figfolder: str</dt>
<dd>
<p>Name of the folder for the figure</p>
</dd>
<dt>savefig: bool</dt>
<dd>
<p>If True, will save the figure as namefig</p>
</dd>
</dl>
</section>
<section id="id73">
<h3>Creates<a class="headerlink" href="#id73" title="Permalink to this heading">¶</a>
</h3>
<p>Plot with contours of the two input dataset</p>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.plot_compare_cuts">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.graph_pipe.</span></span><span class="sig-name descname"><span class="pre">plot_compare_cuts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('X',</span> <span class="pre">'Y')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figfolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fignum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dummy_polypar.png'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncuts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#plot_compare_cuts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.plot_compare_cuts" title="Permalink to this definition">¶</a>
</dt>
<dd>
<section id="id74">
<h3>Input<a class="headerlink" href="#id74" title="Permalink to this heading">¶</a>
</h3>
<p>data1
data2
label1
label2
figfolder
fignum
namefig
savefig
kwargs</p>
</section>
<section id="id75">
<h3>Creates<a class="headerlink" href="#id75" title="Permalink to this heading">¶</a>
</h3>
<p>Plot with a comparison of the two data arrays using regular X and Y cuts</p>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.plot_compare_diff">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.graph_pipe.</span></span><span class="sig-name descname"><span class="pre">plot_compare_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotwcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figfolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fignum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dummy_diff.ong'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#plot_compare_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.plot_compare_diff" title="Permalink to this definition">¶</a>
</dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>data1</strong> – </p></li>
<li><p><strong>data2</strong> – </p></li>
<li><p><strong>figfolder</strong> – </p></li>
<li><p><strong>fignum</strong> – </p></li>
<li><p><strong>namefig</strong> – </p></li>
<li><p><strong>savefig</strong> – </p></li>
<li><p><strong>kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.plot_polypar">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.graph_pipe.</span></span><span class="sig-name descname"><span class="pre">plot_polypar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polypar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('Data</span> <span class="pre">1',</span> <span class="pre">'Data</span> <span class="pre">2')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figfolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fignum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dummy_polypar.png'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#plot_polypar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.plot_polypar" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Creating a plot showing the normalisation arising from a polypar object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>polypar</strong> – </p></li>
<li><p><strong>label1</strong> – </p></li>
<li><p><strong>label2</strong> – </p></li>
<li><p><strong>foldfig</strong> – </p></li>
<li><p><strong>namefig</strong> – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.graph_pipe.print_fig">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.graph_pipe.</span></span><span class="sig-name descname"><span class="pre">print_fig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/graph_pipe.html#print_fig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.graph_pipe.print_fig" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

</section>
<section id="module-pymusepipe.init_musepipe">
<span id="pymusepipe-init-musepipe-module"></span><h2>pymusepipe.init_musepipe module<a class="headerlink" href="#module-pymusepipe.init_musepipe" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS pipeline wrapper
initialisation of folders</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.init_musepipe.InitMuseParameters">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.init_musepipe.</span></span><span class="sig-name descname"><span class="pre">InitMuseParameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Config/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cal_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/init_musepipe.html#InitMuseParameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.init_musepipe.InitMuseParameters" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.init_musepipe.InitMuseParameters.init_default_param">
<span class="sig-name descname"><span class="pre">init_default_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/init_musepipe.html#InitMuseParameters.init_default_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.init_musepipe.InitMuseParameters.init_default_param" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Initialise the parameters as defined in the input dictionary
Hardcoded in config_pipe.py</p>
<section id="id76">
<h3>Input<a class="headerlink" href="#id76" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>dict_param: dict</dt>
<dd>
<p>Input dictionary defining the attributes</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.init_musepipe.InitMuseParameters.read_param_file">
<span class="sig-name descname"><span class="pre">read_param_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/init_musepipe.html#InitMuseParameters.read_param_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.init_musepipe.InitMuseParameters.read_param_file" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reading an input parameter initialisation file</p>
</dd>
</dl>

</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.init_musepipe.add_suffix_tokeys">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.init_musepipe.</span></span><span class="sig-name descname"><span class="pre">add_suffix_tokeys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_folder'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/init_musepipe.html#add_suffix_tokeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.init_musepipe.add_suffix_tokeys" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

</section>
<section id="module-pymusepipe.mpdaf_pipe">
<span id="pymusepipe-mpdaf-pipe-module"></span><h2>pymusepipe.mpdaf_pipe module<a class="headerlink" href="#module-pymusepipe.mpdaf_pipe" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS mpdaf-functions module</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.BasicFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">BasicFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#BasicFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.BasicFile" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Basic file with just the name and some properties
to attach to that Cube</p>
</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.BasicPSF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">BasicPSF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwhm0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nmoffat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6483.58</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psf_array</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#BasicPSF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.BasicPSF" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Basic PSF function and parameters</p>
<dl class="py property">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.BasicPSF.psf_array">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">psf_array</span></span><a class="headerlink" href="#pymusepipe.mpdaf_pipe.BasicPSF.psf_array" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">MuseCube</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Cube</span></code></p>
<p>Wrapper around the mpdaf Cube functionalities</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.astropy_convolve">
<span class="sig-name descname"><span class="pre">astropy_convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fft</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.astropy_convolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.astropy_convolve" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Convolve a DataArray with an array of the same number of dimensions
using a specified convolution function.</p>
<p>Copy of _convolve for a cube, but doing it per slice or not</p>
<p>Masked values in self.data and self.var are replaced with
zeros before the convolution is performed. However masked
pixels in the input data remain masked in the output.</p>
<p>Any variances in self.var are propagated correctly.</p>
<p>If self.var exists, the variances are propagated using the equation:</p>
<div class="highlight-default notranslate">
<div class="highlight"><pre><span></span><span class="n">result</span><span class="o">.</span><span class="n">var</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">var</span> <span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">other</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>where (*) indicates convolution. This equation can be derived
by applying the usual rules of error-propagation to the
discrete convolution equation.</p>
<p>Uses <a href="#id77"><span class="problematic" id="id78">`</span></a>astropy.convolution.convolve_fft’ or ‘astropy.convolution.convolve’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li>
<p><strong>fft</strong> (<em>boolean</em>) – </p>
<p>The convolution function to use, chosen from:</p>
<ul>
<li><p><a href="#id79"><span class="problematic" id="id80">`</span></a>astropy.convolution.convolve_fft’</p></li>
<li><p><a href="#id81"><span class="problematic" id="id82">`</span></a>astropy.convolution.convolve’</p></li>
</ul>
<p>In general convolve_fft() is faster than convolve() except when
other.data only contains a few pixels. However convolve_fft uses
a lot more memory than convolve(), so convolve() is sometimes the
only reasonable choice. In particular, convolve_fft allocates two
arrays whose dimensions are the sum of self.shape and other.shape,
rounded up to a power of two. These arrays can be impractically
large for some input data-sets.</p>
</li>
<li>
<p><strong>other</strong> (<em>DataArray</em><em> or </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a>) – </p>
<p>The array with which to convolve the contents of self.  This must
have the same number of dimensions as self, but it can have fewer
elements. When this array contains a symmetric filtering function,
the center of the function should be placed at the center of pixel,
<code class="docutils literal notranslate"><span class="pre">(other.shape</span> <span class="pre">-</span> <span class="pre">1)//2</span></code>.</p>
<p>Note that passing a DataArray object is equivalent to just
passing its DataArray.data member. If it has any variances,
these are ignored.</p>
</li>
<li><p><strong>inplace</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If False (the default), return a new object containing the
convolved array.
If True, record the convolved array in self and return self.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span>
</dt>
<dd class="field-even">
<p><cite>~mpdaf.obj.DataArray</cite></p>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.build_filterlist_images">
<span class="sig-name descname"><span class="pre">build_filterlist_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IMAGE_FOV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.build_filterlist_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.build_filterlist_images" title="Permalink to this definition">¶</a>
</dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>filter_list</strong> – </p></li>
<li><p><strong>prefix</strong> – </p></li>
<li><p><strong>suffix</strong> – </p></li>
<li><p><strong>folder</strong> – </p></li>
<li><p><strong>**kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.convolve_cube_to_psf">
<span class="sig-name descname"><span class="pre">convolve_cube_to_psf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_fwhm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_nmoffat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcube_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcube_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_fwhm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fft</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">erode_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npixels_erosion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.convolve_cube_to_psf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.convolve_cube_to_psf" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Convolve the cube for a target function ‘gaussian’ or ‘moffat’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>target_fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – target FWHM in arcsecond</p></li>
<li><p><strong>target_nmoffat</strong> – target n if Moffat function</p></li>
<li><p><strong>target_function</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – ‘gaussian’ or ‘moffat’ [‘gaussian’]</p></li>
<li><p><strong>factor_fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – number of FWHM for size of Kernel</p></li>
<li><p><strong>fft</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – use FFT to convolve or not [False]</p></li>
<li><p><strong>perslice</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – doing it per slice, or not [True]
If doing it per slice, using a direct astropy fft. If
doing it with the cube, it uses much more memory but is
more efficient as the convolution is done via mpdaf directly.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Creates:</dt>
<dd>
<p>Folder and convolved cube names</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.create_reference_cube">
<span class="sig-name descname"><span class="pre">create_reference_cube</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambdamin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4700</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdamax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9400</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcube_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_for_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.create_reference_cube"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.create_reference_cube" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create a reference cube using an input one, and overiding
the lambda part, to get a new WCS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>lambdamin</strong> – </p></li>
<li><p><strong>lambdamax</strong> – </p></li>
<li><p><strong>step</strong> – </p></li>
<li><p><strong>outcube_name</strong> – </p></li>
<li><p><strong>filter_for_nan</strong> – </p></li>
<li><p><strong>**kwargs</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p></p>
<dl class="simple">
<dt>the name of the folder where</dt>
<dd>
<p>the output cube is, and its name</p>
</dd>
</dl>

</dd>
<dt class="field-odd">Return type<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>cube_folder, outcube_name (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)">str</a>, <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)">str</a>)</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.extract_onespectral_cube">
<span class="sig-name descname"><span class="pre">extract_onespectral_cube</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wave1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6500.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcube_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.extract_onespectral_cube"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.extract_onespectral_cube" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create a single pixel cube extracted from this one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>wave1</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Value of the wavelength to extract. In Angstroems.</p></li>
<li><p><strong>outcube_name</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the output cube</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – If outcube_name is None (default), use that prefix to append
in front of the input cube name (same folder)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p></p>
<ul class="simple">
<li><p><em>A new cube with only 2 lambda. To be used as a WCS reference for</em></p></li>
<li><p><em>masks.</em></p></li>
</ul>

</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.get_emissionline_image">
<span class="sig-name descname"><span class="pre">get_emissionline_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redshift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">medium</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vacuum'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_emissionline_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_emissionline_image" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get a narrow band image around Ha</p>
<section id="id83">
<h3>Input<a class="headerlink" href="#id83" title="Permalink to this heading">¶</a>
</h3>
<p>lambda_window: in Angstroems (10 by default). Width of the window of integration
medium: vacuum or air (string, ‘vacuum’ by default)
velocity: default is 0. (km/s)
redshift: default is None. Overwrite velocity if provided.
line: name of the emission line (see emission_lines dictionary)</p>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.get_filter_image">
<span class="sig-name descname"><span class="pre">get_filter_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">own_filter_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_filters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_filter_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_filter_image" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get an image given by a filter. If the filter belongs to
the filter list, then use that, otherwise use the given file</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.get_image_from_cube">
<span class="sig-name descname"><span class="pre">get_image_from_cube</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">central_lambda</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_image_from_cube"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_image_from_cube" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get image from integrated cube, with spectral pixel
centred at central_lambda and with a lambda_window of lambda_window</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.get_quadrant_spectra_from_cube">
<span class="sig-name descname"><span class="pre">get_quadrant_spectra_from_cube</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pixel_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_quadrant_spectra_from_cube"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_quadrant_spectra_from_cube" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get quadrant spectra from the Cube</p>
<section id="id84">
<h3>Input<a class="headerlink" href="#id84" title="Permalink to this heading">¶</a>
</h3>
<p>pixel_window : pixel_window of integration</p>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.get_set_spectra">
<span class="sig-name descname"><span class="pre">get_set_spectra</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_set_spectra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_set_spectra" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get a set of standard spectra from the Cube</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.get_spectrum_from_cube">
<span class="sig-name descname"><span class="pre">get_spectrum_from_cube</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ny</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Spectrum'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_spectrum_from_cube"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_spectrum_from_cube" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get a spectrum from the cube with centre defined in pixels
with nx, ny and a window of ‘pixel_window’</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.get_whiteimage_from_cube">
<span class="sig-name descname"><span class="pre">get_whiteimage_from_cube</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.get_whiteimage_from_cube"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.get_whiteimage_from_cube" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.mask_trail">
<span class="sig-name descname"><span class="pre">mask_trail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pq1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pq2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[10,</span> <span class="pre">10]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.mask_trail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.mask_trail" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Build a cube mask from 2 points measured from a trail on an image</p>
<section id="id85">
<h3>Input<a class="headerlink" href="#id85" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>pq1: array or tuple (float)</dt>
<dd>
<p>p and q coordinates of point 1 along the trail</p>
</dd>
<dt>pq2: array or tuple (float)</dt>
<dd>
<p>p and q coordinates of point 2 along the trail</p>
</dd>
<dt>width: float</dt>
<dd>
<p>Value (in pixel) of the full slit width to exclude</p>
</dd>
<dt>margins: float</dt>
<dd>
<p>Value (in pixel) to extend the slit beyond the 2 extrema
If 0, this means limiting it to the extrema themselves.
Default is None, which mean infinitely long slit</p>
</dd>
</dl>
<p>reset (bool): if True, reset the mask before masking the slit
save (bool): if True, save the masked cube</p>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.rebin_spatial">
<span class="sig-name descname"><span class="pre">rebin_spatial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_covariance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.rebin_spatial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.rebin_spatial" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Combine neighboring pixels to reduce the size of a cube by integer factors along each axis.</p>
<p>Each output pixel is the mean of n pixels, where n is the product of the
reduction factors in the factor argument.
Uses mpdaf rebin function, but add a normalisation factor if mean=False (sum).
It also updates the unit by just copying the old one.</p>
<section id="id86">
<h3>Input<a class="headerlink" href="#id86" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>factor<span class="classifier">(int or (int,int))</span>
</dt>
<dd>
<p>Factor by which the spatial dimensions are reduced</p>
</dd>
<dt>mean<span class="classifier">bool</span>
</dt>
<dd>
<p>If True, taking the mean, if False (default) summing</p>
</dd>
<dt>inplace<span class="classifier">bool</span>
</dt>
<dd>
<p>If False (default) making a copy. Otherwise using the present cube.</p>
</dd>
<dt>full_covariance: bool</dt>
<dd>
<p>If True, will assume that spaxels are fully covariant. This means that
the variance will be normalised by sqrt(N) where N is the number of
summed spaxels. Default is False</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>Cube</strong></p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>rebinned cube</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCube.save_mask">
<span class="sig-name descname"><span class="pre">save_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dummy_mask.fits'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCube.save_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCube.save_mask" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Save the mask into a 0-1 image</p>
</dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCubeMosaic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">MuseCubeMosaic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_wcs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_ref_wcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_cubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_cubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DATACUBE_FINAL_WCS'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_fixed_cubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excluded_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">included_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_fixed_cubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tmask'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_exposures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_psf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_cubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCubeMosaic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">CubeMosaic</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCubeMosaic.build_list">
<span class="sig-name descname"><span class="pre">build_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder_cubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_cubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_cubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCubeMosaic.build_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic.build_list" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Building the list of cubes to process</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>folder_cubes</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – folder for the cubes</p></li>
<li><p><strong>prefix_cubes</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – prefix to be used</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCubeMosaic.convolve_cubes">
<span class="sig-name descname"><span class="pre">convolve_cubes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_fwhm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_nmoffat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'conv'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCubeMosaic.convolve_cubes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic.convolve_cubes" title="Permalink to this definition">¶</a>
</dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>target_fwhm</strong> – </p></li>
<li><p><strong>target_nmoffat</strong> – </p></li>
<li><p><strong>input_function</strong> – </p></li>
<li><p><strong>target_function</strong> – </p></li>
<li><p><strong>suffix</strong> – </p></li>
<li><p><strong>**kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd>
</dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCubeMosaic.cube_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cube_names</span></span><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic.cube_names" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCubeMosaic.list_cubes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_cubes</span></span><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic.list_cubes" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCubeMosaic.madcombine">
<span class="sig-name descname"><span class="pre">madcombine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder_cubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcube_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dummy.fits'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fakemode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCubeMosaic.madcombine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic.madcombine" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Combine the CubeMosaic and write it out.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>folder_cubes</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – name of the folder for the cube [None]</p></li>
<li><p><strong>outcube_name</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – name of the outcube</p></li>
<li><p><strong>mad</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – using mad or not [True]</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Creates:</dt>
<dd>
<p>A new cube, combination of all input cubes listes in CubeMosaic</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCubeMosaic.ncubes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ncubes</span></span><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic.ncubes" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseCubeMosaic.print_cube_names">
<span class="sig-name descname"><span class="pre">print_cube_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseCubeMosaic.print_cube_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseCubeMosaic.print_cube_names" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">MuseFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Cousins_R'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_fits_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'filter_list.fits'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_ascii_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseFilter" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseFilter.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseFilter.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseFilter.read" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reading the data in the file</p>
</dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseImage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">MuseImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseImage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseImage" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
<p>Wrapper around the mpdaf Image functionalities</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseImage.get_fwhm_startend">
<span class="sig-name descname"><span class="pre">get_fwhm_startend</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseImage.get_fwhm_startend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseImage.get_fwhm_startend" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get range of FWHM</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseImage.mask_trail">
<span class="sig-name descname"><span class="pre">mask_trail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pq1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pq2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[10,</span> <span class="pre">10]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseImage.mask_trail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseImage.mask_trail" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Build an image mask from 2 points measured from a trail</p>
<section id="id87">
<h3>Input<a class="headerlink" href="#id87" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>pq1: array or tuple (float)</dt>
<dd>
<p>p and q coordinates of point 1 along the trail</p>
</dd>
<dt>pq2: array or tuple (float)</dt>
<dd>
<p>p and q coordinates of point 2 along the trail</p>
</dd>
<dt>width: float</dt>
<dd>
<p>Value (in pixel) of the full slit width to exclude</p>
</dd>
<dt>extent: float</dt>
<dd>
<p>Value (in pixel) to extend the slit beyond the 2 extrema
If 0, this means limiting it to the extrema themselves.
Default is None, which mean infinitely long slit</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseImage.reset_mask">
<span class="sig-name descname"><span class="pre">reset_mask</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseImage.reset_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseImage.reset_mask" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Resetting the Image mask</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseImage.save_mask">
<span class="sig-name descname"><span class="pre">save_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dummy_mask.fits'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseImage.save_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseImage.save_mask" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Save the mask into a 0-1 image</p>
</dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseSetImages">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">MuseSetImages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSetImages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSetImages" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></p>
<p>Set of images</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseSetImages.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSetImages.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSetImages.update" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseSetSpectra">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">MuseSetSpectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSetSpectra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSetSpectra" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></p>
<p>Set of spectra</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseSetSpectra.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSetSpectra.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSetSpectra.update" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseSkyContinuum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">MuseSkyContinuum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSkyContinuum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSkyContinuum" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseSkyContinuum.get_normfactor">
<span class="sig-name descname"><span class="pre">get_normfactor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">background</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Cousins_R'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSkyContinuum.get_normfactor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSkyContinuum.get_normfactor" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get the normalisation factor given a background value
Takes the background value and the sky continuuum spectrum
and convert this to the scaling Ks needed for this sky continuum
The principle relies on having the background measured as:
MUSE_calib = ((MUSE - Sky_cont) + Background) * Norm</p>
<p>as measured from the alignment procedure.</p>
<p>Since we want:
MUSE_calib = ((MUSE - Ks * Sky_cont) + 0) * Norm</p>
<p>This means that: Ks * Sky_cont = Sky_cont - Background
==&gt; Ks = 1 - Background / Sky_cont</p>
<p>So we integrate the Sky_cont to get the corresponding S value
and then provide Ks as 1-B/S</p>
<section id="id88">
<h3>Input<a class="headerlink" href="#id88" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>background: float</dt>
<dd>
<p>Value of the background to consider</p>
</dd>
<dt>filter_name: str</dt>
<dd>
<p>Name of the filter to consider</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseSkyContinuum.integrate">
<span class="sig-name descname"><span class="pre">integrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">muse_filter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ao_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSkyContinuum.integrate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSkyContinuum.integrate" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Integrate a sky continuum spectrum using a certain filter file.
If the file is a fits file, use it as the MUSE filter list.
Otherwise use it as an ascii file</p>
<section id="id89">
<h3>Input<a class="headerlink" href="#id89" title="Permalink to this heading">¶</a>
</h3>
<p>muse_filter: MuseFilter</p>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseSkyContinuum.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSkyContinuum.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSkyContinuum.read" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Read sky continuum spectrum from MUSE data reduction</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseSkyContinuum.save_normalised">
<span class="sig-name descname"><span class="pre">save_normalised</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">norm_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'norm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSkyContinuum.save_normalised"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSkyContinuum.save_normalised" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Normalises a sky continuum spectrum and save it
within a new fits file</p>
<section id="id90">
<h3>Input<a class="headerlink" href="#id90" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>norm_factor: float</dt>
<dd>
<p>Scale factor to multiply the input continuum</p>
</dd>
<dt>prefix: str</dt>
<dd>
<p>Prefix for the new continuum fits name. Default
is ‘norm’, so that the new file is ‘norm_oldname.fits’</p>
</dd>
<dt>overwrite: bool</dt>
<dd>
<p>If True, existing file will be overwritten.
Default is False.</p>
</dd>
</dl>
</section>
</dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.MuseSpectrum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">MuseSpectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#MuseSpectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.MuseSpectrum" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Spectrum</span></code></p>
<p>Wrapper around the mpdaf Spectrum functionalities</p>
</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.PixTableToMask">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">PixTableToMask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pixtable_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tmask'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#PixTableToMask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.PixTableToMask" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class is meant to just be a simple tool to
mask out some regions from the PixTable using Image masks</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.PixTableToMask.create_mask">
<span class="sig-name descname"><span class="pre">create_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pq1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pq2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[10,</span> <span class="pre">10]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dummy_mask.fits'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#PixTableToMask.create_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.PixTableToMask.create_mask" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create the mask and save it in one go</p>
<section id="id91">
<h3>Input<a class="headerlink" href="#id91" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>pq1: array or tuple (float)</dt>
<dd>
<p>p and q coordinates of point 1 along the trail</p>
</dd>
<dt>pq2: array or tuple (float)</dt>
<dd>
<p>p and q coordinates of point 2 along the trail</p>
</dd>
<dt>width: float</dt>
<dd>
<p>Value (in pixel) of the full slit width to exclude</p>
</dd>
<dt>reset: bool</dt>
<dd>
<p>By default False, so the mask goes on top of the existing one
If True, will reset the mask before building it.</p>
</dd>
<dt>extent: float</dt>
<dd>
<p>Value (in pixel) to extend the slit beyond the 2 extrema
If 0, this means limiting it to the extrema themselves.
Default is None, which mean infinitely long slit</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.PixTableToMask.imshow">
<span class="sig-name descname"><span class="pre">imshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#PixTableToMask.imshow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.PixTableToMask.imshow" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Just showing the image</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.PixTableToMask.mask_pixtable">
<span class="sig-name descname"><span class="pre">mask_pixtable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#PixTableToMask.mask_pixtable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.PixTableToMask.mask_pixtable" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Use the Image Mask and create a new Pixtable</p>
<section id="id92">
<h3>Input<a class="headerlink" href="#id92" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>mask_name: str</dt>
<dd>
<p>Name of the mask to be used (FITS file)</p>
</dd>
<dt>use_folder: bool</dt>
<dd>
<p>If True, use the same folder as the Pixtable
Otherwise just write where you stand</p>
</dd>
<dt>suffix_out: str</dt>
<dd>
<p>Suffix for the name of the output Pixtable
If provided, will overwrite the one in self.suffix_out</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.PixTableToMask.save_mask">
<span class="sig-name descname"><span class="pre">save_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dummy_mask.fits'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#PixTableToMask.save_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.PixTableToMask.save_mask" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Saving the mask from the Image into a fits file</p>
<section id="id93">
<h3>Input<a class="headerlink" href="#id93" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>mask_name: str</dt>
<dd>
<p>Name of the fits file for the mask</p>
</dd>
<dt>use_folder: bool</dt>
<dd>
<p>If True (default) will look for the mask in the image_folder.
If False, will just look for it where the command is run.</p>
</dd>
</dl>
</section>
<section id="id94">
<h3>Creates<a class="headerlink" href="#id94" title="Permalink to this heading">¶</a>
</h3>
<p>A fits file with the mask as 0 and 1</p>
</section>
</dd>
</dl>

</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.get_sky_spectrum">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">get_sky_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">specname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#get_sky_spectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.get_sky_spectrum" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Read sky spectrum from MUSE data reduction</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.mpdaf_pipe.integrate_spectrum">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.mpdaf_pipe.</span></span><span class="sig-name descname"><span class="pre">integrate_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spectrum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wave_filter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">throughput_filter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ao_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/mpdaf_pipe.html#integrate_spectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.mpdaf_pipe.integrate_spectrum" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Integrate a spectrum using a certain Muse Filter file.</p>
<section id="id95">
<h3>Input<a class="headerlink" href="#id95" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>spectrum: Spectrum</dt>
<dd>
<p>Input spectrum given as an mpdaf Spectrum</p>
</dd>
<dt>wave_filter: float array</dt>
<dd>
<p>Array of wavelength for the filter</p>
</dd>
<dt>throughput_filter: float array</dt>
<dd>
<p>Array of throughput (between 0 and 1) for the filter. Should be the
same dimension (1D, N floats) as wave_filter</p>
</dd>
</dl>
</section>
</dd>
</dl>

</section>
<section id="module-pymusepipe.musepipe">
<span id="pymusepipe-musepipe-module"></span><h2>pymusepipe.musepipe module<a class="headerlink" href="#module-pymusepipe.musepipe" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS core module.
This defines the main class (MusePipe) which can be used throughout this package.</p>
<p>This module is a complete rewrite of a pipeline wrapper for the MUSE dataset.
All classes and objects were refactored.</p>
<p>However, the starting point of this package has been initially
inspired by several pieces of python codes developed by various individiduals,
including Kyriakos and Martina from the GTO MUSE MAD team and further
rewritten by Mark van den Brok.
Hence: a big Thanks to all three for this!</p>
<p>Note that several python packages exist which would provide similar
(or better) functionalities.</p>
<p>Eric Emsellem adapted a version from early 2017, provided by Mark and adapted
it for the needs of the PHANGS project (PI Schinnerer). It was further
refactored starting from scratch but keeping a few initial ideas.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.musepipe.</span></span><span class="sig-name descname"><span class="pre">MusePipe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Config/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cal_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MusePipe.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">musemode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'WFM-NOAO-N'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strong_checkmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference internal" href="#pymusepipe.prep_recipes_pipe.PipePrep" title="pymusepipe.prep_recipes_pipe.PipePrep"><code class="xref py py-class docutils literal notranslate"><span class="pre">PipePrep</span></code></a>, <a class="reference internal" href="#pymusepipe.recipes_pipe.PipeRecipes" title="pymusepipe.recipes_pipe.PipeRecipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">PipeRecipes</span></code></a></p>
<p>Main Class to define and run the MUSE pipeline, given a certain galaxy
name. This is the main class used throughout the running of the pipeline
which contains functions and attributes all associated with the reduction
of MUSE exposures.</p>
<p>It inherits from the PipePrep class, which prepares the recipes for the
running of the MUSE pipeline, and Piperecipes which has the recipes
described.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.goto_folder">
<span class="sig-name descname"><span class="pre">goto_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">newpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addtolog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.goto_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.goto_folder" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Changing directory and keeping memory of the old working one</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>newpath</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path where to go to</p></li>
<li><p><strong>addtolog</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em> [</em><em>False</em><em>]</em>) – Adding the folder move to the log file</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.goto_origfolder">
<span class="sig-name descname"><span class="pre">goto_origfolder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">addtolog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.goto_origfolder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.goto_origfolder" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Go back to original folder</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.goto_prevfolder">
<span class="sig-name descname"><span class="pre">goto_prevfolder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">addtolog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.goto_prevfolder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.goto_prevfolder" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Go back to previous folder</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>addtolog</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em> [</em><em>False</em><em>]</em>) – Adding the folder move to the log file</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.init_raw_table">
<span class="sig-name descname"><span class="pre">init_raw_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.init_raw_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.init_raw_table" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create a fits table with all the information from
the Raw files. Also create an astropy table with the same info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>reset</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em> [</em><em>False</em><em>]</em>) – Resetting the raw astropy table if True</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.musemode">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">musemode</span></span><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.musemode" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Mode for MUSE</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.print_musemodes">
<span class="sig-name descname"><span class="pre">print_musemodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.print_musemodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.print_musemodes" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Print out the list of allowed muse modes</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.read_all_astro_tables">
<span class="sig-name descname"><span class="pre">read_all_astro_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.read_all_astro_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.read_all_astro_tables" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Initialise all existing Astropy Tables</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.read_astropy_table">
<span class="sig-name descname"><span class="pre">read_astropy_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'master'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.read_astropy_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.read_astropy_table" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Read an existing Masterfile data table to start the pipeline</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.retrieve_geoastro_name">
<span class="sig-name descname"><span class="pre">retrieve_geoastro_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filetype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'geo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fieldmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'wfm'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.retrieve_geoastro_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.retrieve_geoastro_name" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Retrieving the astrometry or geometry fits file name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>date_str</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Date as a string (DD/MM/YYYY)</p></li>
<li><p><strong>filetype</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – ‘geo’ or ‘astro’, type of the needed file</p></li>
<li><p><strong>fieldmode</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – ‘wfm’ or ‘nfm’ - MUSE mode</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.save_expo_table">
<span class="sig-name descname"><span class="pre">save_expo_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expotype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl_gtable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'master'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fits_tablename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.save_expo_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.save_expo_table" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Save the Expo (Master or not) Table corresponding to the expotype</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.set_fullpath_names">
<span class="sig-name descname"><span class="pre">set_fullpath_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.set_fullpath_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.set_fullpath_names" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create full path names to be used</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.musepipe.MusePipe.sort_raw_tables">
<span class="sig-name descname"><span class="pre">sort_raw_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strong_checkmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#MusePipe.sort_raw_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.MusePipe.sort_raw_tables" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Provide lists of exposures with types defined in the dictionary
after excluding those with the wrong MUSE mode if checkmode is set up.</p>
<section id="id96">
<h3>Input<a class="headerlink" href="#id96" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>checkmode: boolean</dt>
<dd>
<p>Checking the MUSE mode or not. Default to None, namely it won’t use
the value set here but the value predefined in self.checkmode.</p>
</dd>
<dt>strong_checkmode: boolean</dt>
<dd>
<p>Strong check, namely in case you still wish to force the MUSE mode
even for files which are not mode specific (e.g., BIAS).
Default to None, namely it uses the self.strong_checkmode which was
already set up at start.</p>
</dd>
</dl>
</section>
</dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.musepipe.PipeObject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.musepipe.</span></span><span class="sig-name descname"><span class="pre">PipeObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/musepipe.html#PipeObject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.musepipe.PipeObject" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A very simple class used to store astropy tables.</p>
</dd>
</dl>

</section>
<section id="module-pymusepipe.prep_recipes_pipe">
<span id="pymusepipe-prep-recipes-pipe-module"></span><h2>pymusepipe.prep_recipes_pipe module<a class="headerlink" href="#module-pymusepipe.prep_recipes_pipe" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS preparation recipe module</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.prep_recipes_pipe.</span></span><span class="sig-name descname"><span class="pre">PipePrep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_recipe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_recipe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference internal" href="#pymusepipe.create_sof.SofPipe" title="pymusepipe.create_sof.SofPipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">SofPipe</span></code></a></p>
<p>PipePrep class prepare the SOF files and launch the recipes</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.get_align_group">
<span class="sig-name descname"><span class="pre">get_align_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_ima_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_expo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bygroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.get_align_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.get_align_group" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Extract the needed information for a set of exposures to be aligned</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.print_recipes">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">print_recipes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.print_recipes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.print_recipes" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Printing the list of recipes</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_align_bydataset">
<span class="sig-name descname"><span class="pre">run_align_bydataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'exp_align_bydataset'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OBJECT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_expo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'processed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_align_bydataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_align_bydataset" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Aligning the individual exposures from a dataset
using the emission line region
With the muse exp_align routine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_align_bygroup">
<span class="sig-name descname"><span class="pre">run_align_bygroup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'exp_align_bygroup'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OBJECT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_expo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'processed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_align_bygroup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_align_bygroup" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Aligning the individual exposures from a dataset
using the emission line region
With the muse exp_align routine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_autocal_sky">
<span class="sig-name descname"><span class="pre">run_autocal_sky</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scipost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SKY'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">AC_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_AC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_autocal_sky"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_autocal_sky" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Launch the scipost command to get individual exposures in a narrow
band filter</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_bias">
<span class="sig-name descname"><span class="pre">run_bias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bias'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_bias"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_bias" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reducing the Bias files and creating a Master Bias
Will run the esorex muse_bias command on all Biases</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_check_align">
<span class="sig-name descname"><span class="pre">run_check_align</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_offset_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scipost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OBJECT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_check_align"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_check_align" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Launch the scipost command to get individual exposures in a narrow
band filter to check if the alignments are ok (after rotation
and using a given offset_table)</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_combine_dataset">
<span class="sig-name descname"><span class="pre">run_combine_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'exp_combine'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OBJECT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_expo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'processed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdaminmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[4000.0,</span> <span class="pre">10000.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_combine_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_combine_dataset" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Produce a cube from all frames in the dataset
list_expo or tpl specific arguments can still reduce the selection if needed</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_fine_alignment">
<span class="sig-name descname"><span class="pre">run_fine_alignment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_ima_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nexpo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_expo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bygroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_fine_alignment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_fine_alignment" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run the alignment on this dataset using or not a reference image</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_flat">
<span class="sig-name descname"><span class="pre">run_flat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_flat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_flat" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reducing the Flat files and creating a Master Flat
Will run the esorex muse_flat command on all Flats</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_lsf">
<span class="sig-name descname"><span class="pre">run_lsf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lsf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_lsf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_lsf" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reducing the LSF files and creating the LSF PROFILE
Will run the esorex muse_lsf command on all Flats</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_phangs_recipes">
<span class="sig-name descname"><span class="pre">run_phangs_recipes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">illum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skymethod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'model'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_phangs_recipes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_phangs_recipes" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running all PHANGS recipes in one shot
Using the basic set up for the general list of recipes</p>
<section id="id97">
<h3>Input<a class="headerlink" href="#id97" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>fraction: float</dt>
<dd>
<p>Fraction of sky to consider in sky frames for the sky spectrum
Default is 0.8.</p>
</dd>
<dt>illum: bool</dt>
<dd>
<p>Default is True (use illumination during twilight calibration)</p>
</dd>
<dt>skymethod: str</dt>
<dd>
<p>Default is “model”.</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_prep_align">
<span class="sig-name descname"><span class="pre">run_prep_align</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scipost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OBJECT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_prep_align"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_prep_align" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Launch the scipost command to get individual exposures in a narrow
band filter</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_recipes">
<span class="sig-name descname"><span class="pre">run_recipes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_recipes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_recipes" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running all recipes in one shot</p>
<section id="id98">
<h3>Input<a class="headerlink" href="#id98" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>fraction: float</dt>
<dd>
<p>Fraction of sky to consider in sky frames for the sky spectrum
Default is 0.8.</p>
</dd>
<dt>illum: bool</dt>
<dd>
<p>Default is True (use illumination during twilight calibration)</p>
</dd>
<dt>skymethod: str</dt>
<dd>
<p>Default is “model”.</p>
</dd>
<dt>filter_for_alignment: str</dt>
<dd>
<p>Default is defined in config_pipe</p>
</dd>
<dt>line: str</dt>
<dd>
<p>Default is None as defined in config_pipe</p>
</dd>
<dt>lambda_window: float</dt>
<dd>
<p>Default is 10.0 as defined in config_pipe</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_scibasic">
<span class="sig-name descname"><span class="pre">run_scibasic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scibasic'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OBJECT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">illum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_scibasic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_scibasic" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reducing the files of a certain category and creating the PIXTABLES
Will run the esorex muse_scibasic</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_scibasic_all">
<span class="sig-name descname"><span class="pre">run_scibasic_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_object</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['OBJECT',</span> <span class="pre">'SKY',</span> <span class="pre">'STD']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">illum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_scibasic_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_scibasic_all" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running scibasic for all objects in list_object
Making different sof for each category</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_scipost">
<span class="sig-name descname"><span class="pre">run_scipost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scipost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OBJECT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'processed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_expo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdaminmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[4000.0,</span> <span class="pre">10000.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_scipost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_scipost" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Scipost treatment of the objects
Will run the esorex muse_scipost routine</p>
<section id="id99">
<h3>Input<a class="headerlink" href="#id99" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>sof_filename: string (without the file extension)</dt>
<dd>
<p>Name of the SOF file which will contain the Bias frames</p>
</dd>
</dl>
<p>tpl: ALL by default or a special tpl time
list_expo: list of integers</p>
<blockquote>
<div>
<p>Exposure numbers. By default, an empty list which means that all
exposures will be used.</p>
</div>
</blockquote>
<dl class="simple">
<dt>lambdaminmax: tuple of 2 floats</dt>
<dd>
<p>Minimum and Maximum wavelength to pass to the muse_scipost recipe</p>
</dd>
<dt>suffix: str</dt>
<dd>
<p>Suffix to add to the input pixtables.</p>
</dd>
<dt>norm_skycontinuum: bool</dt>
<dd>
<p>Normalise the skycontinuum or not. Default is False.
If normalisation is to be done, it will use the offset_table
and the tabulated background value to renormalise the sky
continuum.</p>
</dd>
<dt>skymethod: str</dt>
<dd>
<p>Type of skymethod. See MUSE manual.</p>
</dd>
<dt>offset_list: bool</dt>
<dd>
<p>If True, using an OFFSET list. Default is True.</p>
</dd>
<dt>name_offset_table: str</dt>
<dd>
<p>Name of the offset table table. If not provided, will use the
default name produced during the pipeline run.</p>
</dd>
<dt>filter_for_alignment: str</dt>
<dd>
<p>Name of the filter used for alignment.
Default is self.filter_for_alignment</p>
</dd>
<dt>filter_list: str</dt>
<dd>
<p>List of filters to be considered for reconstructed images.
By Default will use the list in self.filter_list.</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_scipost_perexpo">
<span class="sig-name descname"><span class="pre">run_scipost_perexpo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scipost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OBJECT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'processed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_scipost_perexpo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_scipost_perexpo" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Launch the scipost command exposure per exposure</p>
<section id="id100">
<h3>Input<a class="headerlink" href="#id100" title="Permalink to this heading">¶</a>
</h3>
<p>See run_scipost parameters</p>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_scipost_sky">
<span class="sig-name descname"><span class="pre">run_scipost_sky</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_scipost_sky"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_scipost_sky" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run scipost for the SKY with no offset list and no skymethod</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_sky">
<span class="sig-name descname"><span class="pre">run_sky</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sky'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_sky"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_sky" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reducing the SKY after they have been scibasic reduced
Will run the esorex muse_create_sky routine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_standard">
<span class="sig-name descname"><span class="pre">run_standard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'standard'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_standard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_standard" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reducing the STD files after they have been obtained
Running the muse_standard routine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_twilight">
<span class="sig-name descname"><span class="pre">run_twilight</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'twilight'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">illum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_twilight"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_twilight" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reducing the  files and creating the TWILIGHT CUBE.
Will run the esorex muse_twilight command on all TWILIGHT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.run_wave">
<span class="sig-name descname"><span class="pre">run_wave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'wave'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.run_wave"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.run_wave" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reducing the WAVE-CAL files and creating the Master Wave
Will run the esorex muse_wave command on all Flats</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>sof_filename</strong> (<em>string</em><em> (</em><em>without the file extension</em><em>)</em>) – Name of the SOF file which will contain the Bias frames</p></li>
<li><p><strong>tpl</strong> (<em>ALL by default</em><em> or </em><em>a special tpl time</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.save_fine_alignment">
<span class="sig-name descname"><span class="pre">save_fine_alignment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.save_fine_alignment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.save_fine_alignment" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Save the fine dataset alignment</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.PipePrep.select_tpl_files">
<span class="sig-name descname"><span class="pre">select_tpl_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expotype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#PipePrep.select_tpl_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.PipePrep.select_tpl_files" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Selecting a subset of files from a certain type</p>
</dd>
</dl>

</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.add_listpath">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.prep_recipes_pipe.</span></span><span class="sig-name descname"><span class="pre">add_listpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">suffix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#add_listpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.add_listpath" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Add a suffix to a list of path
and normalise them</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.norm_listpath">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.prep_recipes_pipe.</span></span><span class="sig-name descname"><span class="pre">norm_listpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#norm_listpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.norm_listpath" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Normalise the path for a list of paths</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.prep_recipes_pipe.print_my_function_name">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.prep_recipes_pipe.</span></span><span class="sig-name descname"><span class="pre">print_my_function_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/prep_recipes_pipe.html#print_my_function_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.prep_recipes_pipe.print_my_function_name" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Function to provide a print of the name of the function
Can be used as a decorator</p>
</dd>
</dl>

</section>
<section id="module-pymusepipe.recipes_pipe">
<span id="pymusepipe-recipes-pipe-module"></span><h2>pymusepipe.recipes_pipe module<a class="headerlink" href="#module-pymusepipe.recipes_pipe" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS recipe module</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.recipes_pipe.</span></span><span class="sig-name descname"><span class="pre">PipeRecipes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nifu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">24</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">likwid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'likwid-pin</span> <span class="pre">-c</span> <span class="pre">N:'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fakemode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domerge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nocache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nochecksum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>PipeRecipes class containing all the esorex recipes for MUSE data reduction</p>
<dl class="py property">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.checksum">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">checksum</span></span><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.checksum" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.esorex">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">esorex</span></span><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.esorex" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.joinprod">
<span class="sig-name descname"><span class="pre">joinprod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.joinprod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.joinprod" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.merge">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge</span></span><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.merge" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_align">
<span class="sig-name descname"><span class="pre">recipe_align</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_products</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namein_products</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nameout_products</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srcmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srcmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">80</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fwhm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_align"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_align" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the muse_exp_align recipe</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_bias">
<span class="sig-name descname"><span class="pre">recipe_bias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_bias</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_bias</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_bias"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_bias" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the esorex muse_bias recipe</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_combine">
<span class="sig-name descname"><span class="pre">recipe_combine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_products</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_products</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix_products</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix_prefinalnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_products</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cube'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixfrac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Cube'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'white'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdamin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdamax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_combine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_combine" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the muse_exp_combine recipe for one single dataset</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_combine_pointings">
<span class="sig-name descname"><span class="pre">recipe_combine_pointings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_products</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_products</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix_products</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix_prefinalnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_products</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cube'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixfrac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Cube'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'white'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdamin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdamax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_combine_pointings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_combine_pointings" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the muse_exp_combine recipe for pointings</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_flat">
<span class="sig-name descname"><span class="pre">recipe_flat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_flat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_flat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_trace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_trace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_flat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_flat" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the esorex muse_flat recipe</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_lsf">
<span class="sig-name descname"><span class="pre">recipe_lsf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_lsf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_lsf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_lsf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_lsf" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the esorex muse_lsf recipe</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_scibasic">
<span class="sig-name descname"><span class="pre">recipe_scibasic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_products</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_products</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_scibasic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_scibasic" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the esorex muse_scibasic recipe</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_scipost">
<span class="sig-name descname"><span class="pre">recipe_scipost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expotype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_products</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_products</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix_products</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix_prefinalnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix_postfinalnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_expo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cube,skymodel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'white'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skymethod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'model'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixfrac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">darcheck</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'none'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skymodel_frac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">astrometry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'TRUE'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdamin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdamax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autocalib</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'none'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rvcorr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bary'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_scipost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_scipost" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the esorex muse_scipost recipe</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_sky">
<span class="sig-name descname"><span class="pre">recipe_sky</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_sky</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_sky</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iexpo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_sky"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_sky" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the esorex muse_stc recipe</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_std">
<span class="sig-name descname"><span class="pre">recipe_std</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_std</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_std</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_std"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_std" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the esorex muse_stc recipe</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_twilight">
<span class="sig-name descname"><span class="pre">recipe_twilight</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_twilight</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_twilight</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_twilight"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_twilight" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the esorex muse_twilight recipe</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.recipe_wave">
<span class="sig-name descname"><span class="pre">recipe_wave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sof</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_wave</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_wave</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.recipe_wave"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.recipe_wave" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running the esorex muse_wavecal recipe</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.run_oscommand">
<span class="sig-name descname"><span class="pre">run_oscommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.run_oscommand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.run_oscommand" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Running an os.system shell command
Fake mode will just spit out the command but not actually do it.</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.write_errlogfile">
<span class="sig-name descname"><span class="pre">write_errlogfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.write_errlogfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.write_errlogfile" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Writing in log file</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.write_logfile">
<span class="sig-name descname"><span class="pre">write_logfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.write_logfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.write_logfile" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Writing in log file</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.recipes_pipe.PipeRecipes.write_outlogfile">
<span class="sig-name descname"><span class="pre">write_outlogfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/recipes_pipe.html#PipeRecipes.write_outlogfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.recipes_pipe.PipeRecipes.write_outlogfile" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Writing in log file</p>
</dd>
</dl>

</dd>
</dl>

</section>
<section id="module-pymusepipe.target_sample">
<span id="pymusepipe-target-sample-module"></span><h2>pymusepipe.target_sample module<a class="headerlink" href="#module-pymusepipe.target_sample" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS target sample module</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.target_sample.</span></span><span class="sig-name descname"><span class="pre">MusePipeSample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">TargetDic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cal_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_recipe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.combine_target">
<span class="sig-name descname"><span class="pre">combine_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.combine_target"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.combine_target" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run the combine recipe. Shortcut for combine[targetname].run_combine()</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.combine_target_per_pointing">
<span class="sig-name descname"><span class="pre">combine_target_per_pointing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wcs_from_pointing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.combine_target_per_pointing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.combine_target_per_pointing" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run the combine recipe. Shortcut for combine[targetname].run_combine()</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.convolve_mosaic_per_pointing">
<span class="sig-name descname"><span class="pre">convolve_mosaic_per_pointing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_pointings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_psf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_fwhm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_nmoffat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">best_psf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_dfwhm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fakemode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.convolve_mosaic_per_pointing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.convolve_mosaic_per_pointing" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Convolve the datacubes listed in a mosaic with some target function
and FWHM. It will try to homogeneise all individual cubes to that
target PSF.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>targetname</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – name of the target</p></li>
<li><p><strong>list_pointings</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – list of pointing numbers for the list of pointings
to consider</p></li>
<li><p><strong>dict_psf</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – dictionary providing individual PSFs per pointing</p></li>
<li><p><strong>target_fwhm</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – target FWHM for the convolution [arcsec]</p></li>
<li><p><strong>target_nmoffat</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – tail factor for the moffat function.</p></li>
<li><p><strong>target_function</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – ‘moffat’ or ‘gaussian’ [‘gaussian’]</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – input string to be added</p></li>
<li><p><strong>best_psf</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if True use the minimum overall possible value. If
True it will overwrite all the target parameters.</p></li>
<li><p><strong>min_dfwhm</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – minimum difference to be added in quadrature
[in arcsec]</p></li>
<li><p><strong>filter_list</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – list of filters to be used for reconstructing
images</p></li>
<li><p><strong>fakemode</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if True, will only initialise parameters but not
proceed with the convolution.</p></li>
<li><p><strong>**kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.create_reference_wcs">
<span class="sig-name descname"><span class="pre">create_reference_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pointings_wcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mosaic_wcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_cube</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_wcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refcube_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.create_reference_wcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.create_reference_wcs" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run the combine for individual exposures first building up
a mask.</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.finalise_reduction">
<span class="sig-name descname"><span class="pre">finalise_reduction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot_pixtab</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_wcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_expocubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pixtables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_pointingcubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_exposures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.finalise_reduction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.finalise_reduction" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Finalise the reduction steps by using the offset table, rotating the
pixeltables, then reconstructing the PIXTABLE_REDUCED, produce reference
WCS for each pointing, and then run the reconstruction of the final
individual cubes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>targetname</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </p></li>
<li><p><strong>rot_pixtab</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – </p></li>
<li><p><strong>create_wcs</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – </p></li>
<li><p><strong>create_expocubes</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – </p></li>
<li><p><strong>name_offset_table</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </p></li>
<li><p><strong>folder_offset_table</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </p></li>
<li><p><strong>**kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.init_combine">
<span class="sig-name descname"><span class="pre">init_combine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_pointings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.init_combine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.init_combine" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Prepare the combination of targets</p>
<section id="id101">
<h3>Input<a class="headerlink" href="#id101" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>targetname: str [None]</dt>
<dd>
<p>Name of target</p>
</dd>
<dt>list_pointings: list [or None=default= all pointings]</dt>
<dd>
<p>List of pointings (e.g., [1,2,3])</p>
</dd>
<dt>name_offset_table: str</dt>
<dd>
<p>Name of Offset table</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.init_mosaic">
<span class="sig-name descname"><span class="pre">init_mosaic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_pointings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_cubes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DATACUBE_FINAL_WCS'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.init_mosaic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.init_mosaic" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Prepare the combination of targets</p>
<section id="id102">
<h3>Input<a class="headerlink" href="#id102" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>targetname: str [None]</dt>
<dd>
<p>Name of target</p>
</dd>
<dt>list_pointings: list [or None=default meaning all pointings]</dt>
<dd>
<p>List of pointings (e.g., [1,2,3])</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.mosaic">
<span class="sig-name descname"><span class="pre">mosaic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_pointings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_mosaic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_cube</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.mosaic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.mosaic" title="Permalink to this definition">¶</a>
</dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>targetname</strong> – </p></li>
<li><p><strong>list_pointings</strong> – </p></li>
<li><p><strong>**kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.reduce_all_targets">
<span class="sig-name descname"><span class="pre">reduce_all_targets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.reduce_all_targets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.reduce_all_targets" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reduce all targets already initialised</p>
<section id="id103">
<h3>Input<a class="headerlink" href="#id103" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>first_recipe: int or str</dt>
<dd>
<p>One of the recipe to start with</p>
</dd>
<dt>last_recipe: int or str</dt>
<dd>
<p>One of the recipe to end with</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.reduce_target">
<span class="sig-name descname"><span class="pre">reduce_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.reduce_target"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.reduce_target" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reduce one target for a list of datasets</p>
<section id="id104">
<h3>Input<a class="headerlink" href="#id104" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>targetname: str</dt>
<dd>
<p>Name of the target</p>
</dd>
<dt>list_datasets: list</dt>
<dd>
<p>Dataset numbers. Default is None (meaning all datasets
indicated in the dictonary will be reduced)</p>
</dd>
</dl>
<p>first_recipe: str or int [1]
last_recipe: str or int [max of all recipes]</p>
<blockquote>
<div>
<p>Name or number of the first and last recipes to process</p>
</div>
</blockquote>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.reduce_target_postalign">
<span class="sig-name descname"><span class="pre">reduce_target_postalign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.reduce_target_postalign"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.reduce_target_postalign" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reduce target for all steps after pre-alignment</p>
<section id="id105">
<h3>Input<a class="headerlink" href="#id105" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>targetname: str</dt>
<dd>
<p>Name of the target</p>
</dd>
<dt>list_datasets: list</dt>
<dd>
<p>Dataset numbers. Default is None (meaning all datasets
indicated in the dictonary will be reduced)</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.reduce_target_prealign">
<span class="sig-name descname"><span class="pre">reduce_target_prealign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.reduce_target_prealign"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.reduce_target_prealign" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reduce target for all steps before pre-alignment (included)</p>
<section id="id106">
<h3>Input<a class="headerlink" href="#id106" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>targetname: str</dt>
<dd>
<p>Name of the target</p>
</dd>
<dt>list_datasets: list</dt>
<dd>
<p>Dataset numbers. Default is None (meaning all datasets
indicated in the dictonary will be reduced)</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.rotate_pixtables_target">
<span class="sig-name descname"><span class="pre">rotate_pixtables_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fakemode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.rotate_pixtables_target"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.rotate_pixtables_target" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Rotate all pixel table of a certain targetname and datasets</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.run_target_recipe">
<span class="sig-name descname"><span class="pre">run_target_recipe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recipe_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.run_target_recipe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.run_target_recipe" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Run just one recipe on target</p>
<section id="id107">
<h3>Input<a class="headerlink" href="#id107" title="Permalink to this heading">¶</a>
</h3>
<p>recipe_name: str
targetname: str</p>
<blockquote>
<div>
<p>Name of the target</p>
</div>
</blockquote>
<dl class="simple">
<dt>list_datasets: list</dt>
<dd>
<p>Pointing numbers. Default is None (meaning all datasets
indicated in the dictonary will be reduced)</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.run_target_scipost_perexpo">
<span class="sig-name descname"><span class="pre">run_target_scipost_perexpo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_offset_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.run_target_scipost_perexpo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.run_target_scipost_perexpo" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Build the cube per exposure using a given WCS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>targetname</strong> – </p></li>
<li><p><strong>list_datasets</strong> – </p></li>
<li><p><strong>**kwargs</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeSample.set_pipe_target">
<span class="sig-name descname"><span class="pre">set_pipe_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeSample.set_pipe_target"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeSample.set_pipe_target" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create the musepipe instance for that target and list of datasets</p>
<section id="id108">
<h3>Input<a class="headerlink" href="#id108" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>targetname: str</dt>
<dd>
<p>Name of the target</p>
</dd>
<dt>list_datasets: list</dt>
<dd>
<p>Dataset numbers. Default is None (meaning all datasets
indicated in the dictonary will be reduced)</p>
</dd>
<dt>config_args: dic</dt>
<dd>
<p>Dictionary including extra configuration parameters to pass
to MusePipe. This allows to define a global configuration.
If self.__phangs is set to True, this is overwritten with the default
PHANGS configuration parameters as provided in config_pipe.py.</p>
</dd>
</dl>
</section>
</dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.target_sample.MusePipeTarget">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.target_sample.</span></span><span class="sig-name descname"><span class="pre">MusePipeTarget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subfolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'P100'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#MusePipeTarget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.MusePipeTarget" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.target_sample.PipeDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.target_sample.</span></span><span class="sig-name descname"><span class="pre">PipeDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#PipeDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.PipeDict" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
<p>Dictionary with extra attributes</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.PipeDict.run_on_all_keys">
<span class="sig-name descname"><span class="pre">run_on_all_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">funcname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#PipeDict.run_on_all_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.PipeDict.run_on_all_keys" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Runs the given function on all the keys</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.PipeDict.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#PipeDict.setdefault"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.PipeDict.setdefault" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Insert key with a value of default if key is not in the dictionary.</p>
<p>Return the value for key if key is in the dictionary, else default.</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.target_sample.PipeDict.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">**F</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">None.</span>  <span class="pre">Update</span> <span class="pre">D</span> <span class="pre">from</span> <span class="pre">dict/iterable</span> <span class="pre">E</span> <span class="pre">and</span> <span class="pre">F.</span></span></span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#PipeDict.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.PipeDict.update" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd>
</dl>

</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.target_sample.insert_suffix">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.target_sample.</span></span><span class="sig-name descname"><span class="pre">insert_suffix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#insert_suffix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.insert_suffix" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create a new filename including the
suffix in the name</p>
<section id="id109">
<h3>Input<a class="headerlink" href="#id109" title="Permalink to this heading">¶</a>
</h3>
<p>filename: str
suffix: str</p>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.target_sample.update_calib_file">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.target_sample.</span></span><span class="sig-name descname"><span class="pre">update_calib_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subfolder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/target_sample.html#update_calib_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.target_sample.update_calib_file" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Update the rcfile with a new root</p>
<section id="id110">
<h3>Input<a class="headerlink" href="#id110" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>filename: str</dt>
<dd>
<p>Name of the input filename</p>
</dd>
<dt>folder_config: str</dt>
<dd>
<p>Default is “”. Name of folder for filename</p>
</dd>
<dt>subfolder: str</dt>
<dd>
<p>Name of subfolder to add in the path</p>
</dd>
</dl>
</section>
</dd>
</dl>

</section>
<section id="module-pymusepipe.util_pipe">
<span id="pymusepipe-util-pipe-module"></span><h2>pymusepipe.util_pipe module<a class="headerlink" href="#module-pymusepipe.util_pipe" title="Permalink to this heading">¶</a>
</h2>
<p>MUSE-PHANGS utility functions for pymusepipe</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.Circle_Zone">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">Circle_Zone</span></span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Circle_Zone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.Circle_Zone" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference internal" href="#pymusepipe.util_pipe.Selection_Zone" title="pymusepipe.util_pipe.Selection_Zone"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selection_Zone</span></code></a></p>
<p>Define a Circular zone, defined by
a center and a radius</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.Circle_Zone.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Circle_Zone.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.Circle_Zone.select" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Define a selection within a circle</p>
<section id="id111">
<h3>Input<a class="headerlink" href="#id111" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>xin, yin: 2d arrays</dt>
<dd>
<p>Input positions for the spaxels</p>
</dd>
</dl>
</section>
</dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.ExposureInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">ExposureInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">targetname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nexpo</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#ExposureInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.ExposureInfo" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.Rectangle_Zone">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">Rectangle_Zone</span></span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Rectangle_Zone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.Rectangle_Zone" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference internal" href="#pymusepipe.util_pipe.Selection_Zone" title="pymusepipe.util_pipe.Selection_Zone"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selection_Zone</span></code></a></p>
<p>Define a rectangular zone, given by
a center, a length, a width and an angle</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.Rectangle_Zone.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Rectangle_Zone.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.Rectangle_Zone.select" title="Permalink to this definition">¶</a>
</dt>
<dd>
<dl class="simple">
<dt>Define a selection within a rectangle</dt>
<dd>
<p>It can be rotated by an angle theta (in degrees)</p>
</dd>
</dl>
<section id="id112">
<h3>Input<a class="headerlink" href="#id112" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>xin, yin: 2d arrays</dt>
<dd>
<p>Input positions for the spaxels</p>
</dd>
</dl>
</section>
</dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.Selection_Zone">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">Selection_Zone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Selection_Zone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.Selection_Zone" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Parent class for Rectangle_Zone and Circle_Zone</p>
<section id="id113">
<h3>Input<a class="headerlink" href="#id113" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>params: list of floats</dt>
<dd>
<p>List of parameters for the selection zone</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.TimeStampDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">TimeStampDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">myobject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#TimeStampDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.TimeStampDict" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/collections.html#collections.OrderedDict" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a></p>
<p>Class which builds a time stamp driven
dictionary of objects</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.TimeStampDict.create_new_timestamp">
<span class="sig-name descname"><span class="pre">create_new_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myobject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#TimeStampDict.create_new_timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.TimeStampDict.create_new_timestamp" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create a new item in dictionary
using a time stamp</p>
</dd>
</dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.TimeStampDict.delete_timestamp">
<span class="sig-name descname"><span class="pre">delete_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#TimeStampDict.delete_timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.TimeStampDict.delete_timestamp" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Delete a key in the dictionary</p>
</dd>
</dl>

</dd>
</dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.Trail_Zone">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">Trail_Zone</span></span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Trail_Zone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.Trail_Zone" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Bases: <a class="reference internal" href="#pymusepipe.util_pipe.Selection_Zone" title="pymusepipe.util_pipe.Selection_Zone"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selection_Zone</span></code></a></p>
<p>Define a Trail zone, defined by
two points and a width</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.Trail_Zone.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#Trail_Zone.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.Trail_Zone.select" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Define a selection within trail</p>
<section id="id114">
<h3>Input<a class="headerlink" href="#id114" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>xin, yin: 2d arrays</dt>
<dd>
<p>Input positions for the spaxels</p>
</dd>
</dl>
</section>
</dd>
</dl>

</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.abspath">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">abspath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#abspath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.abspath" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Normalise the path to get it short but absolute</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.add_key_dataset_expo">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">add_key_dataset_expo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">imaname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iexpo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#add_key_dataset_expo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.add_key_dataset_expo" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Add dataset and expo number to image</p>
<section id="id115">
<h3>Input<a class="headerlink" href="#id115" title="Permalink to this heading">¶</a>
</h3>
<p>imaname: str
iexpo: int
dataset: int</p>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.add_string">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">add_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#add_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.add_string" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Adding string at given location
Default is underscore for string which are not empty.</p>
<section id="id116">
<h3>Input<a class="headerlink" href="#id116" title="Permalink to this heading">¶</a>
</h3>
<p>text (str): input text
word (str): input word to be added
loc (int): location in ‘text’. [Default is 0=start]</p>
<blockquote>
<div>
<p>If None, will be added at the end.</p>
</div>
</blockquote>
<dl class="field-list simple">
<dt class="field-odd">rtype<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>Updated text</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.analyse_musemode">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">analyse_musemode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">musemode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delimiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#analyse_musemode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.analyse_musemode" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Extract the named field from the musemode</p>
<section id="id117">
<h3>Input<a class="headerlink" href="#id117" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>musemode: str</dt>
<dd>
<p>Mode of the MUSE data to be analysed</p>
</dd>
<dt>field: str</dt>
<dd>
<p>Field to analyse (‘ao’, ‘field’, ‘lambda_range’)</p>
</dd>
<dt>delimiter: str</dt>
<dd>
<p>Character to delimit the fields to analyse</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>val</strong> – Value of the field which was analysed (e.g., ‘AO’ or ‘NOAO’)</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>str</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.append_file">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">append_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#append_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.append_file" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Append in ascii file</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.chunk_stats">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">chunk_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_arrays</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#chunk_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.chunk_stats" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Cut the datasets in 2d chunks and take the median
Return the set of medians for all chunks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>list_arrays</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> of </em><em>np.arrays</em>) – List of arrays with the same sizes/shapes</p></li>
<li><p><strong>chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – number of pixel (one D of a 2D chunk)
of the chunk to consider (Default value = 15)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p><strong>median, standard</strong> – for the given datasets analysed in chunks.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>2 arrays of the medians and standard deviations</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.create_time_name">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">create_time_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#create_time_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.create_time_name" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create a time-link name for file saving purposes</p>
<p>Return: a string including the YearMonthDay_HourMinSec</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.crop_data">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">crop_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#crop_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.crop_data" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Crop a 2D data and return it cropped after a border
has been removed (number of pixels) from each edge
(borderx2 pixels are removed from each dimension)</p>
<section id="id118">
<h3>Input<a class="headerlink" href="#id118" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>data: 2d array</dt>
<dd>
<p>Array which has the signal to be cropped</p>
</dd>
<dt>border: int</dt>
<dd>
<p>Number of pixels to be cropped at each edge</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>cdata</strong> – Cropped data array</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>2d array</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.doppler_shift">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">doppler_shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#doppler_shift"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.doppler_shift" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Return the redshifted wavelength</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.filter_list_with_pdict">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">filter_list_with_pdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_datasets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#filter_list_with_pdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.filter_list_with_pdict" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Filter out exposures (pixtab or cube namelist) using a dictionary which
has a list of datasets and for each dataset a list of exposure number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>input_list</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – input list to filter</p></li>
<li><p><strong>dict_files</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – dictionary used to filter</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>selected list of files
exposure_list_per_pointing: selected list of files for each pointing</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>selected_filename_list</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.filter_list_with_suffix_list">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">filter_list_with_suffix_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">included_suffix_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excluded_suffix_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#filter_list_with_suffix_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.filter_list_with_suffix_list" title="Permalink to this definition">¶</a>
</dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>list_names</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </p></li>
<li><p><strong>included_suffix_list</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </p></li>
<li><p><strong>excluded_suffix_list</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.filtermed_image">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">filtermed_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#filtermed_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.filtermed_image" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Process image by removing the borders
and filtering it via a median filter</p>
<section id="id119">
<h3>Input<a class="headerlink" href="#id119" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>data: 2d array</dt>
<dd>
<p>Array to be processed</p>
</dd>
<dt>border: int</dt>
<dd>
<p>Number of pixels to remove at each edge</p>
</dd>
<dt>filter_size: float</dt>
<dd>
<p>Size of the filtering (median)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>cdata</strong> – Processed array</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>2d array</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.flatclean_image">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">flatclean_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dynamic_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minflux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">squeeze</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_bkg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#flatclean_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.flatclean_image" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Process image by squeezing the range, removing
the borders and filtering it. The image is first filtered,
then it is cropped. All values below a given minimum are
set to 0 and all Nan set to 0 or infinity accordingly.</p>
<section id="id120">
<h3>Input<a class="headerlink" href="#id120" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>data: 2d array</dt>
<dd>
<p>Input array to process</p>
</dd>
<dt>dynamic_range: float [10]</dt>
<dd>
<p>Dynamic range used to squash the bright pixels down</p>
</dd>
<dt>median_window: int [10]</dt>
<dd>
<p>Size of the window used for the median filtering.</p>
</dd>
<dt>minflux: float [0]</dt>
<dd>
<p>Value of the minimum flux allowed.</p>
</dd>
<dt>squeeze: bool</dt>
<dd>
<p>Squeeze the dynamic range by using the dynamic_range variable</p>
</dd>
<dt>crop: bool</dt>
<dd>
<p>Crop the borders using border as the variable</p>
</dd>
</dl>
<p>remove_bkg: remove the filter_medianed background</p>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.formatted_time">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">formatted_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#formatted_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.formatted_time" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Return: a string including the formatted time</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.get_dataset_name">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">get_dataset_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str_dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OB'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndigits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#get_dataset_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.get_dataset_name" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Formatting for the dataset/pointing names using the number and
the number of digits and prefix string</p>
<section id="id121">
<h3>Input<a class="headerlink" href="#id121" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>dataset: int</dt>
<dd>
<p>Dataset (or Pointing) number</p>
</dd>
<dt>str_dataset: str</dt>
<dd>
<p>Prefix representing the dataset (or pointing)</p>
</dd>
<dt>ndigits: int</dt>
<dd>
<p>Number of digits to be used for formatting</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">rtype<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>string for the dataset/pointing name prefix</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.get_emissionline_band">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">get_emissionline_band</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Ha'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redshift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">medium</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'air'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#get_emissionline_band"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.get_emissionline_band" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get the wavelengths of an emission line, including a correction
for the redshift (or velocity) and a lambda_window around that line (in Angstroems)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>line</strong> (<em>name</em><em> of </em><em>the line</em><em> (</em><em>string</em><em>)</em><em>. Default is 'Ha'</em>) – </p></li>
<li><p><strong>velocity</strong> (<em>shift in velocity</em><em> (</em><em>km/s</em><em>)</em>) – </p></li>
<li><p><strong>medium</strong> (<em>'air'</em><em> or </em><em>'vacuum'</em>) – </p></li>
<li><p><strong>lambda_window</strong> (<em>lambda_window in Angstroem</em>) – </p></li>
</ul>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.get_emissionline_wavelength">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">get_emissionline_wavelength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Ha'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redshift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">medium</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'air'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#get_emissionline_wavelength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.get_emissionline_wavelength" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get the wavelength of an emission line, including a correction
for the redshift (or velocity)</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.get_flux_range">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">get_flux_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">98</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#get_flux_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.get_flux_range" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get the range of fluxes within the array
by looking at percentiles.</p>
<section id="id122">
<h3>Input<a class="headerlink" href="#id122" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>data: 2d array</dt>
<dd>
<p>Input array with signal to process</p>
</dd>
<dt>low, high: two floats (10, 99)</dt>
<dd>
<p>Percentiles to consider to filter</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>lperc, hperc</strong> – Low and high percentiles</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>2 floats</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.get_normfactor">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">get_normfactor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convolve_data1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convolve_data2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#get_normfactor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.get_normfactor" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get the normalisation factor for shifted and projected images. This function
only consider the input images given by their data (numpy) arrays.</p>
<section id="id123">
<h3>Input<a class="headerlink" href="#id123" title="Permalink to this heading">¶</a>
</h3>
<p>array1: 2d np.array
array2: 2d np.array</p>
<blockquote>
<div>
<p>Input arrays. Should be the same size</p>
</div>
</blockquote>
<dl class="simple">
<dt>median_filter: bool</dt>
<dd>
<p>If True, will median filter</p>
</dd>
<dt>convolve_muse: float [0]</dt>
<dd>
<p>Will convolve the image with index nima
with a gaussian with that sigma. 0 means no convolution</p>
</dd>
<dt>convolve_reference: float [0]</dt>
<dd>
<p>Will convolve the reference image
with a gaussian with that sigma. 0 means no convolution</p>
</dd>
<dt>border: int</dt>
<dd>
<p>Number of pixels to crop</p>
</dd>
<dt>threshold: float [None]</dt>
<dd>
<p>Threshold for the input image flux to consider</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>data</strong> (<em>2d array</em>)</p></li>
<li><p><strong>refdata</strong> (<em>2d array</em>) – The 2 arrays (input, reference) after processing</p></li>
<li><p><strong>polypar</strong> (<em>the result of an ODR regression</em>)</p></li>
</ul>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.get_polynorm">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">get_polynorm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">100.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigclip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#get_polynorm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.get_polynorm" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Find the normalisation factor between two arrays.</p>
<p>Including the background and slope. This uses the function
regress_odr which is included in align_pipe.py and itself
makes use of ODR in scipy.odr.ODR.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>array1</strong> (<em>2D np.array</em>) – </p></li>
<li><p><strong>array2</strong> (<em>2D np.array</em>) – 2 arrays (2D) of identical shapes</p></li>
<li><p><strong>chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Default value = 15</p></li>
<li><p><strong>threshold1</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Lower threshold for array1 (Default value = 0.)</p></li>
<li><p><strong>threshold2</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Lower threshold for array2 (Default value = 0)</p></li>
<li><p><strong>percentiles</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> of </em><em>2 floats</em>) – Percentiles (Default value = [0., 100.])</p></li>
<li><p><strong>sigclip</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Sigma clipping factor (Default value = 0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p><strong>result</strong> – Result of the regression (ODR)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>python structure</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.get_tpl_nexpo">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">get_tpl_nexpo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#get_tpl_nexpo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.get_tpl_nexpo" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Get the tpl and nexpo from a filename assuming it is at the end
of the filename</p>
<section id="id124">
<h3>Input<a class="headerlink" href="#id124" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>filename: str</dt>
<dd>
<p>Input filename</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>tpl, nexpo</strong></p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>str, int</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.lower_allbutfirst_letter">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">lower_allbutfirst_letter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mystring</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#lower_allbutfirst_letter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.lower_allbutfirst_letter" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Lowercase all letters except the first one</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.lower_rep">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">lower_rep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#lower_rep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.lower_rep" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Lower the text and return it after removing all underscores</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – text to treat</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>updated text (with removed underscores and lower-cased)</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.merge_dict">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">merge_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#merge_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.merge_dict" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Merging two dictionaries by appending
keys which are duplicated</p>
<section id="id125">
<h3>Input<a class="headerlink" href="#id125" title="Permalink to this heading">¶</a>
</h3>
<p>dict1: dict
dict2: dict</p>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>dict1</strong> – merged dictionary</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>dict</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.my_linear_model">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">my_linear_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#my_linear_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.my_linear_model" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Linear function for the regression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>B</strong> (<em>1D np.array</em><em> of </em><em>2 floats</em>) – Input 1D polynomial parameters (0=constant, 1=slope)</p></li>
<li><p><strong>x</strong> (<em>np.array</em>) – Array which will be multiplied by the polynomial</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>An array = B[1] * (x + B[0])</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.normpath">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">normpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#normpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.normpath" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Normalise the path to get it short</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.prepare_image">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">prepare_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#prepare_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.prepare_image" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Median filter plus convolve the input image</p>
<section id="id126">
<h3>Input<a class="headerlink" href="#id126" title="Permalink to this heading">¶</a>
</h3>
<dl class="simple">
<dt>data: 2D np.array</dt>
<dd>
<p>Data to process</p>
</dd>
<dt>median_filter: bool</dt>
<dd>
<p>If True, will median filter</p>
</dd>
<dt>convolve float [0]</dt>
<dd>
<p>Will convolve the data with this gaussian width (sigma)
0 means no convolution</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p><strong>data</strong></p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>2d array</p>
</dd>
</dl>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.print_debug">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">print_debug</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#print_debug"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.print_debug" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Print debugging information</p>
<section id="id127">
<h3>Input<a class="headerlink" href="#id127" title="Permalink to this heading">¶</a>
</h3>
<p>text: str
pipe: musepipe [None]</p>
<blockquote>
<div>
<p>If provided, will print the text in the logfile</p>
</div>
</blockquote>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.print_endline">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">print_endline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#print_endline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.print_endline" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.print_error">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">print_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#print_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.print_error" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Print error information</p>
<section id="id128">
<h3>Input<a class="headerlink" href="#id128" title="Permalink to this heading">¶</a>
</h3>
<p>text: str
pipe: musepipe [None]</p>
<blockquote>
<div>
<p>If provided, will print the text in the logfile</p>
</div>
</blockquote>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.print_info">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">print_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#print_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.print_info" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Print processing information</p>
<section id="id129">
<h3>Input<a class="headerlink" href="#id129" title="Permalink to this heading">¶</a>
</h3>
<p>text: str
pipe: musepipe [None]</p>
<blockquote>
<div>
<p>If provided, will print the text in the logfile</p>
</div>
</blockquote>
</section>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.print_warning">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">print_warning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#print_warning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.print_warning" title="Permalink to this definition">¶</a>
</dt>
<dd></dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.reconstruct_filter_images">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">reconstruct_filter_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cubename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['white,Johnson_B,Johnson_V,Cousins_R,SDSS_g,SDSS_r,SDSS_i']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_fits_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'filter_list.fits'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#reconstruct_filter_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.reconstruct_filter_images" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Reconstruct all images in a list of Filters
cubename: str</p>
<blockquote>
<div>
<p>Name of the cube</p>
</div>
</blockquote>
<dl class="simple">
<dt>filter_list: str</dt>
<dd>
<p>List of filters, e.g., “Cousins_R,Johnson_I”
By default, the default_filter_list from pymusepipe.config_pipe</p>
</dd>
<dt>filter_fits_file: str</dt>
<dd>
<p>Name of the fits file containing all the filter characteristics
Usually in filter_list.fits (MUSE default)</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.regress_odr">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">regress_odr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">1.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0,</span> <span class="pre">100.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigclip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#regress_odr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.regress_odr" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Return an ODR linear regression using scipy.odr.ODR</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>x</strong> – numpy.array</p></li>
<li><p><strong>y</strong> – numpy.array
Input array with signal</p></li>
<li><p><strong>sx</strong> – numpy.array</p></li>
<li><p><strong>sy</strong> – numpy.array
Input array (as x,y) with standard deviations</p></li>
<li><p><strong>beta0</strong> – list or tuple of 2 floats
Initial guess for the constant and slope</p></li>
<li><p><strong>percentiles</strong> – tuple or list of 2 floats
Two numbers providing the min and max percentiles</p></li>
<li><p><strong>sigclip</strong> – float
sigma factor for sigma clipping. If 0, no sigma clipping
is performed</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span>
</dt>
<dd class="field-even">
<p>result of the ODR analysis</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span>
</dt>
<dd class="field-odd">
<p>result</p>
</dd>
</dl>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.rotate_cube_wcs">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">rotate_cube_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cube_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cube_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outwcs_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotangle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#rotate_cube_wcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.rotate_cube_wcs" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Routine to remove potential Nan around an image and reconstruct
an optimal WCS reference image. The rotation angle is provided as a way
to optimise the extent of the output image, removing Nan along X and Y
at that angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>cube_name</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – input image name. No default.</p></li>
<li><p><strong>cube_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – input image folder [‘’]</p></li>
<li><p><strong>outwcs_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – folder where to write the output frame. Default is
None which means that it will use the folder of the input image.</p></li>
<li><p><strong>rotangle</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – rotation angle in degrees [0]</p></li>
<li><p><strong>**kwargs</strong> – in_suffix (str): in suffix to remove from name [‘prealign’]
out_suffix (str): out suffix to add to name [‘rotwcs’]
margin_factor (float): factor to extend the image [1.1]</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.rotate_image_wcs">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">rotate_image_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ima_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ima_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outwcs_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotangle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#rotate_image_wcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.rotate_image_wcs" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Routine to remove potential Nan around an image and reconstruct
an optimal WCS reference image. The rotation angle is provided as a way
to optimise the extent of the output image, removing Nan along X and Y
at that angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span>
</dt>
<dd class="field-odd">
<ul class="simple">
<li><p><strong>ima_name</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – input image name. No default.</p></li>
<li><p><strong>ima_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – input image folder [‘’]</p></li>
<li><p><strong>outwcs_folder</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – folder where to write the output frame. Default is
None which means that it will use the folder of the input image.</p></li>
<li><p><strong>rotangle</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – rotation angle in degrees [0]</p></li>
<li><p><strong>**kwargs</strong> – in_suffix (str): in suffix to remove from name [‘prealign’]
out_suffix (str): out suffix to add to name [‘rotwcs’]
margin_factor (float): factor to extend the image [1.1]</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.safely_create_folder">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">safely_create_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#safely_create_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.safely_create_folder" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Create a folder given by the input path
This small function tries to create it and if it fails
it checks whether the reason is because it is not a path
and then warn the user
and then warn the user</p>
</dd>
</dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymusepipe.util_pipe.select_spaxels">
<span class="sig-prename descclassname"><span class="pre">pymusepipe.util_pipe.</span></span><span class="sig-name descname"><span class="pre">select_spaxels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maskDic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maskName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pymusepipe/util_pipe.html#select_spaxels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymusepipe.util_pipe.select_spaxels" title="Permalink to this definition">¶</a>
</dt>
<dd>
<p>Selecting spaxels defined by their coordinates
using the masks defined by Circle or Rectangle Zones</p>
</dd>
</dl>

</section>
<section id="module-pymusepipe.version">
<span id="pymusepipe-version-module"></span><h2>pymusepipe.version module<a class="headerlink" href="#module-pymusepipe.version" title="Permalink to this heading">¶</a>
</h2>
<p>Copyright (c) 2016-2019 Eric Emsellem &lt;<script type="text/javascript">document.write(
    "<n pynff=\"ersrerapr rkgreany\" uers=\"znvygb:revp\056rzfryyrz%40rfb\056bet\">revp<fcna>\056<\057fcna>rzfryyrz<fcna>\100<\057fcna>rfb<fcna>\056<\057fcna>bet<\057n>".replace(/[a-zA-Z]/g,
        function(c){
            return String.fromCharCode(
                (c<="Z"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26
            );
        }
    )
);</script>&gt;</p>
<p>All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p>
<ol class="arabic simple">
<li><p>Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.</p></li>
<li><p>Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.</p></li>
<li><p>Neither the name of the copyright holder nor the names of its contributors
may be used to endorse or promote products derived from this software
without specific prior written permission.</p></li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
</section>
<section id="module-pymusepipe">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pymusepipe" title="Permalink to this heading">¶</a>
</h2>
<p>Copyright (C) 2017 ESO/Centre de Recherche Astronomique de Lyon (CRAL)
print pymusepipe.__LICENSE__  for the terms of use</p>
<p>This package is a wrapper around the MUSE pipeline commands to reduce
muse raw data frames. It includes modules for aligning and convolving the frames.
It also has some basic routines wrapped around mpdaf, the excellent
python package built around the MUSE PIXTABLES and reduced data.</p>
</section>
</section>



           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="pymusepipe" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Eric Emsellem

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>